# API Documentation

**Source URL:** https://developers.facebook.com/docs/instagram-platform/
**Scraped Date:** 2025-11-12 16:36:31

---



## Page: https://developers.facebook.com/docs/instagram-platform/

# Plataforma de Instagram

La plataforma de Instagram from Meta proporciona herramientas para ayudar al usuario de tu app a interactuar con los usuarios de Instagram.

| ![Instagram Logo](https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/294212088_1185619815505127_6226283026498321571_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=y0wlir3eR-MQ7kNvwH8CuDt&_nc_oc=AdlXO9GQePsl4x_zzt3WeYZIJTYeMXyia0bb-7na4Dg2Ia9VP-_hdaMOvmkK28Ml-R7wR3srrlGgs3j-KppgTOMn&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=egsXIURXXuIVV9Sty9wS2g&oh=00_AfjulppmxpEh3QyMBvLZ_-J1pQNbGlO5l5kNxcPFWYgmew&oe=692F2E14) | API de Instagram con inicio de sesión de negocios para Instagram |
|---|---|

La [API de Instagram con inicio de sesión con Instagram](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login) permite que los usuarios de tu app accedan a los datos de sus cuentas de [Instagram para empresas](https://l.facebook.com/l.php?u=https%3A%2F%2Fbusiness.instagram.com%2F&h=AT0dunsLsVNIoSrNowym3fg376M0wk7lhWlPfMvI3m_WZJDOOtJxGRvF-g2_SRjPKJzcxq4g7N9N4y_R-iUw0vP-am6fR6u3wv6WotImWgoz9iIsgTHtLCqqEqDS3NyhLKMOAjCcwhA7HXgIufUDnh7ais4wHaES49w_whjqhIo) y de [creadores de Instagram](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F2358103564437429&h=AT3PEH-VzUbxvkMKt1VT2xDnOMIBt6iY4INVZ747AvaQJK5fsVP-MLShispIYQyJSZnJFDqtvYxaM-X13P3-kTiKlvFTovPCtnE3LCexj5q7mPYjnNEDGwDxiA3wCk7MKb25bGGsDqMm5tZET2sbB___l5WwRu9iP9QyCgCO6Yc). Esta API permite que tu app intercambie mensajes de negocios y de creadores con usuarios de Instagram interesados en sus negocios o su contenido multimedia. Además, permite obtener y publicar el contenido multimedia de estos, administrar y responder comentarios sobre su contenido multimedia, e identificar contenido multimedia donde otros usuarios de Instagram los @mencionaron. **_Se requiere una cuenta de Instagram de empresa o creador._**

| ![Instagram Logo](https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/294212088_1185619815505127_6226283026498321571_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=y0wlir3eR-MQ7kNvwH8CuDt&_nc_oc=AdlXO9GQePsl4x_zzt3WeYZIJTYeMXyia0bb-7na4Dg2Ia9VP-_hdaMOvmkK28Ml-R7wR3srrlGgs3j-KppgTOMn&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=egsXIURXXuIVV9Sty9wS2g&oh=00_AfjulppmxpEh3QyMBvLZ_-J1pQNbGlO5l5kNxcPFWYgmew&oe=692F2E14) | API de Instagram con inicio de sesión de negocios para Facebook |
|---|---|

La [API de Instagram con inicio de sesión con Facebook de negocios](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-facebook-login) permite que los usuarios de tu app accedan a los datos de sus cuentas de [Instagram para empresas](https://l.facebook.com/l.php?u=https%3A%2F%2Fbusiness.instagram.com%2F&h=AT1QhuB5wk_y_2fTiTiMcXyD3IZ4gtYEHk43WDX0nO-uPJpzQfr-HMk-rMRQr_IBFuOIamlBv4Xhsyj-Ury_9BecaGHpDm8KUg9c3WipUhEoExT44bWr-2y5k6OFeC0olC12o0V9VKscgvMkr3X-r6DQu-2WfLAc_qygh8DRwaw) y de [creadores de Instagram](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F2358103564437429&h=AT2g8bmuZOpW1CKpG28kpvJ34oMWimQICgJWvMAHWN-YAY-KKuyv-x2PXyONaP6eDQnb5hyOWKBbJoEa-UeGSMVQiO8rn-3lyTddvv6zvi7vgUIVFkQ6FU4S_Ly5uiGpg6r1w7lUUt3Z3YoLEPJdS8COp6Zyo8uTft8fzjVVduo). Estos profesionales pueden usar la API para obtener y publicar su contenido multimedia, administrar y responder comentarios referidos a ese contenido, identificar contenido multimedia en el que otros usuarios de Instagram los hayan @mencionado, buscar contenido multimedia con hashtags, y obtener métricas y metadatos básicos sobre otros creadores y negocios de Instagram. **_Se requiere una cuenta de Instagram para empresas o de creador vinculada con una página de Facebook._**

| ![Instagram Logo](https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/294212088_1185619815505127_6226283026498321571_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=y0wlir3eR-MQ7kNvwH8CuDt&_nc_oc=AdlXO9GQePsl4x_zzt3WeYZIJTYeMXyia0bb-7na4Dg2Ia9VP-_hdaMOvmkK28Ml-R7wR3srrlGgs3j-KppgTOMn&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=egsXIURXXuIVV9Sty9wS2g&oh=00_AfjulppmxpEh3QyMBvLZ_-J1pQNbGlO5l5kNxcPFWYgmew&oe=692F2E14) | API de mensajes de Instagram a través de la API de Messenger |
|---|---|

[La compatibilidad de la API de Messenger con Instagram](https://developers.facebook.com/docs/messenger-platform/instagram) (que también se conoce en nuestras Políticas para desarrolladores como "API de mensajes de Instagram") permite que las cuentas profesionales usen tu app para administrar los mensajes de Instagram y de la página de Facebook desde una sola plataforma. Se puede utilizar la API para enviar y recibir mensajes de usuarios de Instagram y Facebook. **_Se requiere una cuenta de Instagram para empresas o de creador vinculada con una página de Facebook._**

### Compartir en historias

Con la opción [Compartir en historias](https://developers.facebook.com/docs/instagram/sharing-to-stories), los usuarios de tu app pueden compartir su contenido como historias de Instagram.

### Compartir en el feed

Con la opción [Compartir en el feed](https://developers.facebook.com/docs/instagram/sharing-to-feed), los usuarios de tu app pueden compartir su contenido en el feed de Instagram.

### Inserción

[Inserta](https://developers.facebook.com/docs/instagram/embedding) publicaciones con foto y con video de Instagram en tus sitios web.



## Page: https://developers.facebook.com/docs/instagram-platform/overview

```markdown
# Overview

The Instagram Platform is a collection of APIs that allows your app to access data for Instagram professional accounts including both businesses and creators. You can build an app that only serves your Instagram professional account, or you can build an app that serves other Instagram professional accounts that you do not own or manage.

There are two Instagram API configurations you can use in your app:

| Instagram API with Facebook Login for Business | Instagram API with Business Login for Instagram |
|------------------------------------------------|------------------------------------------------|
| - Your app serves Instagram professional accounts that are linked to a Facebook Page<br>- Your app users use their Facebook credentials to log in to your app | - Your app serves Instagram professional accounts with a presence on Instagram only<br>- Your app users use their Instagram credentials to log in to your app |

Depending on the configuration you choose, your app users will be able to have conversations with their customers or people interested in their Instagram professional account, moderate comments on their media, send private replies, publish content, publish ads, and get insights.

### Which API is right for my app?

| Component | [Instagram API setup with Instagram Login](https://developers.facebook.com/docs/instagram/platform/instagram-api) | [Instagram API setup with Facebook Login](https://developers.facebook.com/docs/instagram-platform/instagram-graph-api) |
|-----------|----------------------------------------------------------------------------------------------------------------|-----------------------------------------------------------------------------------------------------------------------|
| **Access token type** | Instagram User | Facebook User or Page |
| **Authorization type** | [Business Login for Instagram](https://developers.facebook.com/docs/instagram/platform/instagram-api/business-login) | [Facebook Login for Business](https://developers.facebook.com/docs/facebook-login/facebook-login-for-business/) |
| **Comment moderation** | ✔️ | ✔️ |
| **Content publishing** | ✔️ | ✔️ |
| **Facebook Page** | x | Required |
| **Hashtag search** | x | ✔️ |
| **[Insights](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-facebook-login/insights)** | ✔️ | ✔️ |
| **Mentions** | ✔️ | ✔️ |
| **Messaging** | ✔️ | [via Messenger Platform](https://developers.facebook.com/docs/messenger-platform/instagram) |
| **[Product tagging](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-facebook-login/product-tagging)** | x | ✔️ |
| **[Partnership Ads](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-facebook-login/partnership-ads)** | ✔️ | ✔️ |

## Access levels

There are two access levels available to your app: **Standard Access** and **Advanced Access**.

**Standard Access** is the default access level for all apps and limits the data your app can get. It is intended for apps that will only be used by people who have roles on them, during app development, or for testing your app. If your app only serves your Instagram professional account or an account you manage, Standard Access is all your app needs.

**Advanced Access** is the access level required if your app serves Instagram professional accounts that you don't own or manage and can be used by app users who do not have a role on your app or a role on a business portfolio that has claimed your app. This access level requires App Review and Business Verification.

**Note:** Because of the limited scope of Standard Access, some features might not work properly until your app has been granted Advanced Access. This might limit the functionality of any test apps you use.

Learn more about [Advanced and Standard Access](https://developers.facebook.com/docs/graph-api/overview/access-levels).

## App Review

Meta App Review enables Meta to verify that your app uses our products and APIs in an approved manner. Your app must complete Meta App Review to be granted Advanced Access. Learn more about [Meta App Review](https://developers.facebook.com/docs/resp-plat-initiatives/individual-processes/app-review).

### Private apps

If reviewers are unable to test your app because it is behind a private intranet, has no user interface, or has not implemented Facebook Login for Business, you can request approval only for the following permissions:

- `instagram_basic`
- `instagram_manage_comments`

## App users

To use the APIs, your app users must have an [Instagram professional account](https://business.instagram.com/getting-started). An Instagram professional account can be for a business or creator. You can build your app so that it serves businesses and creators with Instagram professional accounts that only have a presence on Instagram and use Business Login for Instagram, or businesses and creators with Instagram professional accounts that are linked to a Facebook Page and use Facebook Login for Business. For an Instagram professional account that is linked to a Facebook Page, your app user must also be able to perform admin-equivalent tasks on the linked Facebook Page.

Your app will also interact with Instagram users who interact with your app users' Instagram professional accounts. These interactions can happen through comments and reactions on your app users' Instagram comments, posts, reels, and stories, ads, and Instagram Direct.

## Authentication and authorization

Endpoint authorization is handled through [permissions and features](#features-and-permissions). Before your app can use an endpoint to access an app user's Instagram professional account data, you must first request all permissions required by those endpoints from the app user.

You can request permissions from app users by implementing Business Login for Instagram or Facebook Login for Business. If you implement Business Login for Instagram, your app users log in with their Instagram credentials. If you implement Facebook Login for Business your app users log in with their Facebook credentials.

To start the log in flow, an app user clicks your **embed URL**. Meta opens an authorization window where the user grants your app the requested permissions. Meta then redirects the user to your app’s redirect URI and sends your app an **Authorization Code**. This code is valid for **one hour**.

Next, exchange the authorization code for a **short-lived access token**, an ID for your app user, and a list of permissions granted by your app user. This access token is valid for **one hour**. Access tokens follow the OAuth 2.0 protocol, are app-scoped (unique to your app and app user), and required for most API calls. Apps using Business Login for Instagram receive Instagram User access tokens and apps using Facebook Login for Business receive Facebook User access tokens.

Before the short-lived access token expires, your app exchange it for a **long-lived access token**. This access token is valid for **60 days** and can be refreshed before they expire.

Once permissions have been granted and your app receives an access token, your app can query the endpoints to access the user's data. Note that a permission only allows access to data created by the app user who granted the permission. There are a few endpoints that allow apps to access data not created by the app user, but the accessible data is limited and public.

If your app serves only your Instagram professional accounts, or accounts you manage, you do not need to implement a login flow. However, you will need to configure the business login settings in the App Dashboard to obtain an Instagram app ID and an Instagram app secret, as well as obtain long-lived access tokens to use in your API calls.

## Base URLs

For apps using Business Login for Instagram, where your app users log in with their Instagram credentials, all endpoints are accessed via the **`graph.instagram.com`** host.

For apps using Facebook Login for Business, where your app users' Instagram professional account is linked to a Facebook Page and your app users log in with their Facebook credentials, all endpoints are accessed via the **`graph.facebook.com`** host.

## Business verification

You must complete Business Verification if your app requires Advanced Access; if your app will be used by app users who do not have a Role on the app itself, or a Role in a Business that has claimed the app.

## Comment moderation

An Instagram user comments on your app user's Instagram professional account's media. Your app can use the API to get comments, reply to comments, delete comments, hide/unhide comments, and disable/enable comments on Instagram media owned by your app user's Instagram professional account. The API can also identify media where the Instagram professional account has been @mentioned by other Instagram users.

## Content publishing

Your app can use the API to publish single images, videos, reels (single media posts), or posts containing multiple images and videos (carousel posts) on behalf of your app user's Instagram professional accounts.

### Content Delivery Network URLs

Instagram Platform leverages Content Delivery Network (CDN) URLs which allow you to retrieve rich media content shared by Instagram users. The CDN URL is privacy-aware and will not return the media when the content has been deleted or has expired.

### Collaborators

*Facebook Login for Business only.*

The [Instagram Collaborator Tags](https://www.facebook.com/help/instagram/291200585956732) allows Instagram users to co-author content, such as publish media with other accounts (collaborators). 

With a few exceptions, data on or about co-authored media can only be accessed through the API by the user who published the media; collaborators are unable to access this data via the API. The only exceptions are when searching for top performing media or recently published media that has been tagged with a specific hashtag.

## Develop with Meta

Before you can integrate a Meta Technologies API into your app, you must [register as a Meta developer](https://developers.facebook.com/docs/development/register) and then create an app in the Meta App Dashboard that represents your app.

When creating an app, you will add the following products depending on login type:

| Products Required | Business Login for Instagram | Facebook Login for Business |
|-------------------|-----------------------------|-----------------------------|
| **Products Required** | - **Instagram** > Instagram API setup with Instagram login | - **Facebook Login for Business**<br>- **Messenger**, including Instagram settings for sending and receiving messages<br>- **Instagram** > Instagram API setup with Facebook login |

### App IDs

App IDs are required during authentication and can be found in the app's Meta App Dashboard. Apps that use Facebook Login for Business will use the Meta app ID displayed at the top of the Meta App Dashboard for your app. Apps that use Business Login for Instagram will use the Instagram app ID displayed on the **Instagram > API setup with Instagram login** section of the dashboard.

## Facebook Pages

If your app implements Facebook Login for Business, your app users' Instagram professional accounts must be connected to a Facebook Page.

Your app users must be able to perform **tasks** on the Facebook Page linked to their Instagram professional account so that they can grant your app permissions related to those tasks. The following table maps the name of the task in our UIs, such as Facebook Page Settings or Meta Business Suite, with task names returned in [GET /me/accounts](https://developers.facebook.com/docs/graph-api/reference/user/accounts#Reading) endpoint requests, and the permission the user can grant if they can perform that task.

| Task name in UIs | Task name in API | Grantable Permissions |
|-------------------|------------------|-----------------------|
| Ads | `PROFILE_PLUS_ADVERTISE` | `instagram_basic` |
| Content | `PROFILE_PLUS_CREATE_CONTENT` | `instagram_basic`, `instagram_content_publish` |
| Full control | `PROFILE_PLUS_FULL_CONTROL` | `instagram_basic`, `instagram_content_publish` |
| Insights | `PROFILE_PLUS_ANALYZE` | `instagram_basic`, `instagram_manage_insights` |
| Messages | `PROFILE_PLUS_MESSAGING` | `instagram_basic`, `instagram_manage_messages` |
| Community Activity | `PROFILE_PLUS_MODERATE` | `instagram_basic`, `instagram_manage_comments` |

See our [Instagram API Reference](https://developers.facebook.com/docs/instagram-platform/reference) to see which permissions each endpoint requires.

## Scoped User IDs

### Instagram-scoped User IDs

When an Instagram user comments on a post, reel, or story, or sends a message to an Instagram professional account, an Instagram-scoped User ID is created that represents that person on that app. This ID is specific to the person and the Instagram account they are interacting with. This allows your app users, businesses and creators, to map interactions for the same person across multiple apps.

### Page-scoped User IDs

When an Instagram user comments on a post, reel, or story, or sends a message to an Instagram professional account, a Page-scoped User ID is created that represents that person on that app. This ID is specific to the person and the Instagram account they are interacting with. This allows your app users, businesses and creators, to map interactions for the same person across multiple apps.

## `/me` endpoint

The `/me` endpoint is a special endpoint that translates to the object ID of the account, Facebook Page or Instagram professional account, whose access token is currently being used to make the API calls. This special endpoint can also represent any ID, comments, conversations, media, posts, reels, and stories owned by your app user's Instagram professional account.

## Messaging

An Instagram user sends a message to your app user's Instagram professional account while logged in to Instagram. The message is delivered to your app user's Instagram inbox and a webhook notification is sent to your server. Your app can use the API to respond within 24 hours. If more time is needed to allow a human agent to respond, you can use the human agent tag to send a response within 7 days.

If your app uses Facebook Login for Business, your app will use the [Messenger Platform's Instagram Messaging API](https://developers.facebook.com/docs/messenger-platform/instagram) to send and receive messages.

### Instagram Inbox

An Instagram professional account has a messaging inbox that allows you to control notifications and organize messages. By default notifications are off. You can turn notifications on in the Inbox Settings. The inbox is organized into different categories, **Primary**, **General**, and **Requests**. By default, all new conversations from followers will appear in the Primary folder. Conversations that existed before you implemented Instagram Messaging will be in the folders you have placed them within.

Messages that you receive from people who are not followers of your account are in the Requests folder. You can choose to accept or deny these requests, and request messages aren’t marked as **Seen** until you accept them. Once a request is accepted you can move the conversation to the Primary or General folder. All message requests that you answer using a third-party app will be moved to the General folder.

#### Inbox Limitations

- If you reply to a message using a third-party app, the conversation will be moved to the **General** folder regardless of your Setting configuration
- Inbox folders are not supported and messages delivered by the Messenger Platform do not include folder information that is shown in the Instagram from Meta app inbox folder
- Webhooks notifications or messages delivered via the API will not be considered as **Read** in the Instagram app inbox. Only after a reply is sent will a message be considered **Read**.

### Automated Experiences

You can provide an escalation path for automated messaging experiences using one of the following:

- **A Single App** – You can create a custom inbox to receive or reply to messages from a person. This custom inbox is powered by the same messaging app that also provides the automated experience.
- **Multiple Apps** – [Handover Protocol](https://developers.facebook.com/docs/messenger-platform/handover-protocol) allows you to pass the conversation from one app or inbox to another. For example, one app would handle the conversation with an automated experience and, when needed, would pass the conversation to another app to continue the conversation with a human agent.

#### Informing users about your automated experience

When applicable laws require it, automated chat experiences must inform that a person is interacting with an automated service:

- at the beginning of any conversation or message thread,
- after a prolonged period, or
- when the chat transitions from being a human interaction to an automated experience.

Experiences with automated chat from the following markets must pay special attention to this requirement:

- California market or users from this state
- Germany market or users from this country

Disclosures can include, among others: "I am the bot of [page name]", "You are interacting with an automated experience", "You are talking to a bot" or "I am an automated chat bot".

Even when not legally required, we recommend informing users when they interact with an automated chat, as this helps manage user expectations about their interaction with your messaging experience.

Visit our [Developer Policies](https://developers.facebook.com/devpolicy/#messengerplatform) for more information.

## Policies

To gain and retain access to the Meta social graph you must adhere to the following:

- [Automated chats on Instagram](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F655277382759165&amp;h=AT0BXlukYF3I5pl1l4TXKZsgYiqa8hBzvp0ucpdmeZcKI20Gu0Q2IFq8rJQLMN-8QfVqXxH-ZOgn9Yxd7yDTZAO4lKaPWnN_wKktZPjcUnaBntOJR8H_zgCrUflO4kSt14LsJPZDjcQRDheJB5eSpRBibsv9vcEMaYJJOMERoUc)
- [Meta Platform Terms](https://developers.facebook.com/terms/)
- [Developer Policies](https://developers.facebook.com/devpolicy)
- [Community Standards](https://l.facebook.com/l.php?u=https%3A%2F%2Ftransparency.meta.com%2Fpolicies%2Fcommunity-standards%2F&amp;h=AT1K1WuAOzoObB81JGmdEmEnk9Ekl11rvshni83Va8zYzdlmalVYN1i5iDMu1T8LAb_W3JSYFN74xqDH8Aur6Q_Q3zqZwk18FXmy1cdQhKmzhRhgQfPF6GPNfcYH-5tkQ-U013LrsUDWnNN8ENiOLOghnNEF3WbbGrsV7vZqqrI)
- [Responsible Platform Initiatives](https://developers.facebook.com/docs/resp-plat-initiatives)

## Rate Limiting

All endpoints are subject to [Instagram Business Use Case rate limiting](https://docs.graph-api/overview/rate-limiting#instagram-graph-api) except for [Business Discovery](https://docs.instagram-api/guides/business-discovery) and [Hashtag Search](https://docs.instagram-api/guides/hashtag-search) endpoints, which are subject to [Platform Rate limiting](https://docs.graph-api/overview/rate-limiting#platform-rate-limits).

Calls to the Instagram Platform endpoints, excluding messaging, are counted against the calling app's call count. An app's call count is unique for each app and app user pair, and is the number of calls the app has made in a rolling 24 hour window. It is calculated as follows:

```
Calls within 24 hours = 4800 * Number of Impressions
```

The Number of Impressions is the number of times any content from the app user's Instagram professional account has entered a person's screen within the last 24 hours.

### Notes

- Business Discovery and Hashtag Search API are subject to [Platform Rate Limits](https://docs.graph-api/overview/rate-limiting#platform-rate-limits).

### Messaging Rate Limits

Calls to the Instagram messaging endpoints are counted against the number of calls your app can make per Instagram professional account and the API used.

#### Conversations API

- Your app can make 2 calls per second per Instagram professional account.

#### Private Replies API

- Your app can make 100 calls per second per Instagram professional account for private replies to Instagram Live comments.
- Your app can make 750 calls per hour per Instagram professional account for private replies to comments on Instagram posts and reels.

#### Send API

- Your app can make 100 calls per second per Instagram professional account for messages that contain text, links, reactions, and stickers.
- Your app can make 10 calls per second per Instagram professional account for messages that contain audio or video content.

## Webhooks

We strongly recommend using webhooks to receive notifications about your app users' media objects or messages. Using webhooks will reduce the number of needed API calls made by your app and hence, reducing the risk of being rate limited.

## Next steps

Now that you are familiar with the components of this API, set up your [webhooks server and subscribe to events](https://developers.facebook.com/docs/instagram-platform/webhooks).

## See also

Learn more about [Meta's Graph API](https://developers.facebook.com/docs/graph-api) and the [Messenger Platform](https://developers.facebook.com/docs/messenger-platform).
```



## Page: https://developers.facebook.com/docs/instagram-platform/reference

# Referencia

La plataforma de Instagram (IG) está compuesta por nodos (objetos), perímetros (colecciones) dentro de esos nodos y campos (propiedades de los objetos). Los nodos y los perímetros raíz (perímetros que no se encuentran en un nodo) se enumeran a continuación. Las solicitudes a la API se envían a una de las dos URL del host de Meta.

| URL del organizador         | Tipo de inicio de sesión                                                                 |
|-----------------------------|------------------------------------------------------------------------------------------|
| `graph.facebook.com`        | [API de Instagram con inicio de sesión con Facebook](https://developers.facebook.com/docs/instagram-platform/instagram-graph-api/business-login-for-instagram) |
| `graph.instagram.com`       | [API de Instagram con inicio de sesión con Instagram](https://developers.facebook.com/docs/instagram/platform/instagram-api/business-login) |

## Nodos

| Nodo                          | Descripción                                                                                     |
|-------------------------------|-------------------------------------------------------------------------------------------------|
| [Comentario de IG](https://developers.facebook.com/docs/instagram-api/reference/ig-comment/) | Representa un comentario de Instagram                                                          |
| [Contenedor de IG](https://developers.facebook.com/docs/instagram-api/reference/ig-container/) | Representa un contenedor de archivos multimedia para publicar un objeto multimedia en Instagram. |
| [Hashtag de IG](https://developers.facebook.com/docs/instagram-api/reference/ig-hashtag/) | Representa un hashtag de Instagram. Solo disponible para la API de Instagram con inicio de sesión con Facebook |
| [Contenido multimedia de IG](https://developers.facebook.com/docs/instagram-api/reference/ig-media/) | Representa una foto, un video, una historia o un álbum de Instagram.                           |
| [Usuario de IG](https://developers.facebook.com/docs/instagram-api/reference/ig-user/) | Representa una cuenta comercial de Instagram o una cuenta de creador de Instagram.              |
| [Página](https://developers.facebook.com/docs/instagram-api/reference/page/) | Representa una página de Facebook. Solo disponible para la API de Instagram con inicio de sesión con Facebook |

## Perímetros raíz

| Perímetro raíz                    | Acciones                                                                                           |
|------------------------------------|----------------------------------------------------------------------------------------------------|
| [ig_hashtag_search](https://developers.facebook.com/docs/instagram-api/reference/ig-hashtag-search) | Obtiene el identificador de un [hashtag de IG](https://developers.facebook.com/docs/instagram-api/reference/ig-hashtag). Solo disponible para la API de Instagram con inicio de sesión con Facebook |



## Page: https://developers.facebook.com/docs/instagram-platform/support

```markdown
# Meta Developer Site Status, Support, and Tools

Get the status of the Meta Developer Platform APIs, explore available Meta Developer Tools, and find Support.

At the top of all pages on Meta's Developer Documentation site, the following tabs are available:

- **Apps** – The Meta App Dashboard to configure your app with Meta's APIs, products, and SDKs
- **Docs** – The documentation for implementing Meta's APIs, products, and SDKs
- **Required actions** – The required actions needed for your app to retain access to Meta's APIs
- **Support** – The support resources to ask questions, report bugs, and monitor platform status
- **Tools** – The tools for testing, debugging, and previewing during development

## Apps

The App Dashboard allows you to configure settings that may be required by the use cases, APIs, and SDKs that your app will use. It displays basic information about all apps for which you have a role and allows you to configure your app with Meta's APIs, products, and SDKs. The dashboard allows you to:

- Create and manage your app's name and Meta ID
- View the business connected to an app, if any
- View the role you have on an app
- View the published status of an app
- View and access the required actions for an app
- Create a test app for an existing app
- Remove yourself from an app
- Archive or delete apps you own

Click **Apps** at the top of the page to access the App Dashboard.

## Docs

Read the Meta Developer Documentation to learn the basics of how to send and receive data from the Meta social graph and how to implement the APIs, platforms, products, and SDKs to fit your application needs.

Click **Docs** at the top of the page to access the landing page for all available developer documentation.

## Required actions

View the actions you are required to perform for all apps you own or administer to retain access to Meta's servers, such as Data Use Checkup. You can filter actions by app name, status, and business portfolio.

Click **Required actions** at the top of the page to view any actions you need to take.

## Support

View platform health, report and view bugs, and get help with issues you encounter while developing with Meta.

Click **Support** at the top of the page to get support or view platform status.

### Support

If the platform status is reporting no issues but you are experiencing a problem, report and monitor bugs that are affecting you. Get help with **Engineering**, **Business and Ads Management**, **App Compliance**, and your **Personal Account**, and search for a topic, view trending bug reports, and trending developer documentation.

### Bugs

View current bug reports, search bug reports, and file a bug report.

### Community

Visit Meta's Developer Community Forum to ask, answer, and review questions from fellow developers.

### FAQ

Visit Meta's Frequently Asked Questions (FAQs) to find answers to common questions.

### Platform Status

Meta provides a health status page for each of the following:

- Business tools – Ads Manager, Catalog, Shops, and more 
- Developer platform – Facebook Login, ads APIs, business messaging APIs, and more
- Transparency tools – Ads and Data transparency tools 

Each status page allows you to view the current health of a product, tool, or API.

- A checkmark within a green circle – The service is operational with no known issues
- An exclamation within a yellow triangle – The service is recovering from disruptions or is experiencing partial disruptions
- A dash within a red stop sign – The service is currently down or experiencing major disruptions

Click the chevron to the right of an API or product to view more information.

#### View History

Click the **View History** button at the bottom of the page to see any issues that have occurred in the last 90 days. This allows you to see when an issue occurred, its duration, and status.

#### RSS Feed

Click the **RSS Feed** button at the bottom of the page to sign up for real-time status notifications for each platform or tool you care about.

### Business messaging status

Get additional information for business messaging APIs, including current and historical data for availability and latency.

#### Availability

The availability of an API or tool is shown as a percentage and is calculated by subtracting the downtime, in minutes, from the measured time period, in minutes, divided by the measured time period, in minutes then multiplied by 100.

```
Percent availability
=
(Total minutes - Number of minutes the issue occurred) / Total minutes
X
100
```

For example, if the time period is 30 days (43200 minutes) and an issue occurred for 23 hours (1380 minutes) during those 30 days, the API was available for 96.81% of the time during those 30 days.

```
96.81% = (43200 - 1380) / 43200 X 100
```

#### Latency

Latency is calculated for inbound and outbound messages.

- **Inbound** – Time from when a message is received from a user to when Meta makes the first attempt to send a corresponding message webhook to the business’s callback URL
- **Outbound** – Time from when Meta receives a send message request from a business to when the message is ready to be transmitted to the user

##### Latency Percentiles

The status page displays P90 and P99 latency percentiles:

- **P90** – 90% of requests are faster than this value
- **P99** – 99% of requests are faster than this value; only 1% are slower

## Tools

Use the various developer tools from Meta to test, debug, and upgrade the various APIs, products, and SDKs. Meta Developer tools include:

- The Graph API Explorer – Create, test, and authenticate API calls and get code
- Sharing Debugger – Preview how content will look when it's shared to Facebook
- Access Token Debugger – View details about access tokens, such as scope, type, and expiry

This page also has links to business tools such as:

- The Ads Manager – Create, preview, and publish ad campaigns
- The Business Manager – View and manage your business portfolios and assets
- The Monetization Manager – View your ads' performance for each business portfolio

Click **Tools** at the top of the page to get a list of developer tools and links to them.
```



## Page: https://developers.facebook.com/docs/instagram-platform/insights

```markdown
# Insights

This guide shows you how to get insights for your app users' Instagram media and professional accounts using the Instagram Platform.

In this guide we will be using **Instagram user** and **Instagram professional account** interchangeably. An Instagram User object represents your app user's Instagram professional account.

Instagram Insights are now available for Instagram API with Instagram Login. [Learn more.](https://developers.facebook.com/docs/instagram-platform/insights)

## Before you start

You will need the following:

### Requirements

This guide assumes you have read the [Instagram Platform Overview](https://developers.facebook.com/docs/instagram-platform/overview) and implemented the needed components for using this API, such as a Meta login flow and a webhooks server to receive notifications.

|  | Instagram API with Instagram Login | Instagram API with Facebook Login |
|---|---|---|
| **Access Tokens** | Instagram User access token | [Facebook User access token](https://docs.facebook.com/facebook-login/access-tokens/#usertokens) |
| **Host URL** | `graph.instagram.com` | `graph.facebook.com` |
| **Login Type** | Business Login for Instagram | Facebook Login for Business |
| **[Permissions](https://developers.facebook.com/docs/permissions/reference#i)** | - `instagram_business_basic`<br>- `instagram_business_manage_insights` | - `instagram_basic`<br>- `instagram_manage_insights`<br>- `pages_read_engagement`<br>If the app user was granted a role on the [Page](https://developers.facebook.com/docs/instagram-api/overview#pages) connected to your app user's Instagram professional account via the Business Manager, your app will also need:<br>- `ads_management`<br>- `ads_read` |

#### Access Level

- Advanced Access if your app serves Instagram professional accounts you don't own or manage
- Standard Access if your app serves Instagram professional accounts you own or manage and have added to your app in the App Dashboard

#### Endpoints

- [GET /<INSTAGRAM_MEDIA_ID>/insights](https://developers.facebook.com/docs/instagram-api/reference/ig-media/insights) — Gets metrics on a media object
- [GET /<INSTAGRAM_ACCOUNT_ID>/insights](https://developers.facebook.com/docs/instagram-api/reference/ig-user/insights) — Gets metrics on an Instagram Business Account or Instagram Creator account.

Refer to each endpoint's reference documentation for additional metrics, parameters, and permission requirements.

#### UTC

Timestamps in API responses use UTC with zero offset and are formatted using ISO-8601. For example: `2019-04-05T07:56:32+0000`

#### Webhook event subscriptions

- `story_insights` – **Only available for Instagram API with Facebook Login.**

### Limitations

#### Media insights

- Fields that return aggregated values don't include ads-driven data. For example, `comments_count` returns the number of comments on a photo, but not comments on ads that contain that photo.
- Captions don't include the `@` symbol unless the app user is also able to perform admin-equivalent [tasks](https://developers.facebook.com/docs/pages/overview#tasks) on the app.
- Some fields, such as `permalink`, cannot be used on photos within albums (children).
- Live video Instagram Media can only be read while they are being broadcast.
- This API returns only data for media owned by Instagram professional accounts. It can not be used to get data for media owned by personal Instagram accounts.

#### Account insights

- Some metrics are not available on Instagram accounts with fewer than 100 followers.
- User Metrics data is stored for up to 90 days.
- You can only get insights for a single user at a time.
- You cannot get insights for Facebook Pages.
- If insights data you are requesting does not exist or is currently unavailable the API will return an empty data set instead of `0` for individual metrics.

## Examples

### Instagram account request

The following Instagram API with Facebook Login example is getting the number of `impressions`, `profile_views`, and `reach` for your app user's Instagram professional account over one 24 hour period.

To get metrics for an Instagram business or creator account, query the [GET /<INSTAGRAM_USER_ID>/insights](https://developers.facebook.com/docs/instagram-api/reference/ig-user/insights) endpoint with the `metrics` parameter set to a comma-separated list of the metrics, `impressions`, `profile_views`, and `reach`, and the `period` set to `day`.

```http
GET graph.facebook.com/17841405822304914/insights?metric=impressions,reached,profile_views&period=day
```

#### Sample Response

On success, your app receives an array for each metric that includes, the metric description, ID of the metric, name and title, the time period over which the metric was measured, and values of the metric.

```json
{
  "data": [
    {
      "name": "impressions",
      "period": "day",
      "values": [
        {
          "value": 32,
          "end_time": "2018-01-11T08:00:00+0000"
        },
        {
          "value": 32,
          "end_time": "2018-01-12T08:00:00+0000"
        }
      ],
      "title": "Impressions",
      "description": "Total number of times the Business Account's media objects have been viewed",
      "id": "instagram_business_account_id/insights/impressions/day"
    },
    {
      "name": "reach",
      "period": "day",
      "values": [
        {
          "value": 12,
          "end_time": "2018-01-11T08:00:00+0000"
        },
        {
          "value": 12,
          "end_time": "2018-01-12T08:00:00+0000"
        }
      ],
      "title": "Reach",
      "description": "Total number of times the Business Account's media objects have been uniquely viewed",
      "id": "instagram_business_account_id/insights/reach/day"
    },
    {
      "name": "profile_views",
      "period": "day",
      "values": [
        {
          "value": 15,
          "end_time": "2018-01-11T08:00:00+0000"
        },
        {
          "value": 15,
          "end_time": "2018-01-12T08:00:00+0000"
        }
      ],
      "title": "Profile Views",
      "description": "Total number of users who have viewed the Business Account's profile within the specified period",
      "id": "instagram_business_account_id/insights/profile_views/day"
    }
  ]
}
```

### Instagram media request

The following Instagram API with Instagram Login example is getting the number of `engagement`, `impressions`, and `reach` for your app user's Instagram media over one 24 hour period.

To get metrics for an Instagram business or creator account's media, query the [GET /<INSTAGRAM_MEDIA_ID>/insights](https://developers.facebook.com/docs/instagram-api/reference/ig-media/insights) endpoint with the `metrics` parameter set to a comma-separated list of the metrics, `engagement`, `impressions`, and `reach`, and the `period` set to `day`.

```http
GET graph.instagram.com/17841491440582230/insights?metric=engagement,impressions,reached&period=day
```

#### Sample Response

On success, your app receives an array for each metric that includes, the metric description, ID of the metric, name and title, the time period over which the metric was measured, and values of the metric.

```json
{
  "data": [
    {
      "name": "engagement",
      "period": "lifetime",
      "values": [
        {
          "value": 8
        }
      ],
      "title": "Engagement",
      "description": "Total number of likes and comments on the media object",
      "id": "media_id/insights/engagement/lifetime"
    },
    {
      "name": "impressions",
      "period": "lifetime",
      "values": [
        {
          "value": 13
        }
      ],
      "title": "Impressions",
      "description": "Total number of times the media object has been seen",
      "id": "media_id/insights/impressions/lifetime"
    },
    {
      "name": "reach",
      "period": "lifetime",
      "values": [
        {
          "value": 13
        }
      ],
      "title": "Reach",
      "description": "Total number of unique accounts that have seen the media object",
      "id": "media_id/insights/reach/lifetime"
    }
  ]
}
```

## Next Steps

Visit the API Reference to see all available metrics for [Instagram business and creator accounts](https://developers.facebook.com/docs/instagram-api/reference/ig-user) and their [Instagram Media](https://developers.facebook.com/docs/instagram-api/reference/ig-media) objects.
```



## Page: https://developers.facebook.com/docs/instagram-platform/create-an-instagram-app

```markdown
El siguiente contenido proviene de la documentación para desarrollo de la app de Meta. Consulta la documentación de desarrollo para obtener más información sobre el [proceso de desarrollo de la app de Meta](https://developers.facebook.com/docs/development).

# Create a Meta App for Instagram Platform

This guide shows you how to create and customize a Meta app for your Instagram app in the App Dashboard.

### Before you Start

This guide assumes that you have read and implemented the requirements for [creating an app with Meta](https://developers.facebook.com/docs/development/create-an-app).

### Add to an existing app

If you are adding Instagram to an existing app, please start with [Step 6](#add-ig).

## 1. Iniciar el proceso de creación de apps

Puedes crear una app de varias maneras.

- Si acabas de completar el proceso de registro, haz clic en el botón **Crear primera app**.
- Si estás en el [panel de apps](https://developers.facebook.com/apps), haz clic en **Crear app**, en la parte superior derecha.
- Si estás en el panel de una app preexistente y quieres crear una app nueva, selecciona el menú desplegable que se encuentra en la parte superior derecha y haz clic en el botón **Crear nueva app**.

## Step 2: Connect a business

You're required to connect your app to a business that has completed Business Verification before you can publish your app. However, you can connect a business now or at any time during the development process by clicking **App settings > Basic** in the left-side menu.

1. Select an option and click **Next**.

Learn more about [Business Verification](https://developers.facebook.com/docs/development/release/business-verification/).

## Step 3: Select your use case

To create an app that can access the Instagram product follow these steps:

1. Select the **Other** use case.
2. Click **Next**.

## Step 4: Select your app type

Your app must be a business type app to be able to add the Instagram product.

1. Select **Business**.
2. Click **Next**.

## Step 5: Add app details

Add some details about your app.

1. **Add an app name** that will appear in the app dashboard.
2. **Add contact email** that Meta will use to contact you about your app.
3. Click **Next**.

You will be redirected to the app dashboard for your new app with products you can add to your app.

## Step 6. Add the Instagram product to your app

Add the Instagram product to your app by following these steps:

1. Scroll until you see the **Instagram** product. This allows creators and businesses to manage messages and comments, publish content, track insights, hashtags and mentions.
2. Click **Set up**.

**API setup with Instagram login** is automatically added to your app. This allows your app users to log in to your app using their Instagram credentials. This setup allows you to build an app that can publish to Instagram, manage comments on Instagram media, and send and receive messages from people interested in your app user's Instagram social media using the Instagram API.

If you are building an app for a business that uses an Instagram Professional account that is linked to a Facebook Page select the **API setup with Facebook login**. This setup allows you to build an app that can publish content to Instagram and manage comments on Instagram media, for product tagging, Partnership Ads, and get metrics. Continue to the [API Setup with Facebook Login Developer Documentation](https://developers.facebook.com/docs/instagram-platform) to complete the set up.

## Step 7. Generate access tokens

Assign an Instagram account to get access tokens for testing Instagram API calls and webhooks subscriptions.

1. Add an Instagram account. This account must be public. Multiple accounts can be added for multiple testers.
2. You will be prompted to login to your Instagram account.

You can add or remove accounts at any time by clicking **App Roles > Roles** or **Instagram > API Setup with Instagram login** in the left-side menu.

### Step 8. Configure webhooks

Meta Webhooks allow you to receive real-time HTTP notifications of changes to specific objects in the Meta social graph. To use webhooks, please provide a callback URL for your app.

1. Click **Configure**.
2. Add your **Callback URL**.
3. Add your **Verify token**.
4. Click **Save**.
5. Click **Manage** to unsubscribe or change testing and subscription versions.

By default you are subscribed to all available webhooks for the Instagram product:

- `comments`
- `live_comments`
- `message_reactions`
- `messages`
- `messaging_optins`
- `messaging_postbacks`
- `messaging_referral`
- `messaging_seen`

Learn more about [webhooks](https://developers.facebook.com/docs/instagram/platform/instagram-api/webhooks).

## Step 9. Set up Instagram business login

Provide a secure way for your app users to give your app permissions to access data with business login.

1. Click **Set up** in the **3. Set up Instagram business login** section.
2. Add your **Redirect URL** in the popup and click **Save**.
3. Copy and paste the **Embed URL** in an anchor tag or button on your app or website to launch business login.
4. Click **Business login settings**.
5. Add additional **OAuth Redirect URIs**, if applicable.
6. Add your **Deauthorize callback URL**.
7. Add your **Data deletion request URL**.
8. Click **Save**.

Learn more about [business login](https://developers.facebook.com/docs/instagram/platform/instagram-api/business-login).

## Step 10. Complete App Review

Instagram requires successful completion of the App Review process before your app can access live data. Submit your App Review request when you're ready.

If you are ready now complete the following steps:

1. Click the chevron to right of **Complete App Review**.
2. Click **Go to App Review**.

A pop-up appears with a list of the **Requirements** for App Review:

- Confirm that your app can be loaded and tested externally.
- Provide clear use case details and describe step-by-step how a person uses your app.
- Tell us how your case of Instagram permissions follows established usage guidelines. You will need to upload screen recordings that demonstrate how your app will use each permission.

Click **Continue** and you will be redirected to the **App Review > Requests** menu item in the left-side menu.

If you want to add more products or are not yet ready to submit for App Review, you can [return to the app dashboard](#request-for-app-review) to submit at a later date.

## Next Steps

- **API Integration Helper** – Use the API Integration Helper in the App Dashboard to send a test message using the API.
- When you need to request Advanced Access, visit the [Instagram Platform App Review guide](https://developers.facebook.com/docs/instagram-platform/app-review) to learn how to submit your app for Meta App Review.

## See Also

Learn more about Meta app development, review, permissions, and more with the following developer documents:

- [Business login for Instagram](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login/business-login)
- [Content Publishing API](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login/content-publishing)
- [Comment Moderation API](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login/comment-moderation)
- [Instagram Messaging API](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login/messaging-api)
- [Logos and Trademarks](https://developers.facebook.com/docs/app-review/resources/logos)
- [Permissions Reference](https://developers.facebook.com/docs/permissions#i)
- [Webhooks from Meta](https://developers.facebook.com/docs/graph-api/webhooks)
```



## Page: https://developers.facebook.com/docs/instagram-platform/sharing-to-stories

```markdown
# Compartir en historias

Puedes integrar la función de compartir en tus apps para Android y iOS para permitir a los usuarios compartir tu contenido como historias de Instagram. Para crear una app nueva, consulta [Primeros pasos con el SDK de Facebook para Android](https://developers.facebook.com/docs/android/getting-started) y [Primeros pasos con el SDK de Facebook para iOS](https://developers.facebook.com/docs/ios/getting-started).

![Compartir en historias](https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/31816930_171774670197369_7104973267433160704_n.png?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=6Ryb_O3Jq34Q7kNvwGC0gKc&_nc_oc=AdmACf10ipx_Oc7Z2Nt-m3zcKv9hp2bNQcVxJG68c7MgRLlj15tm7jrj35Af33InbwpPh-cjxW4h8qQanjZNXw1M&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=GPLh-FUnnnxhk8dDwxBa4g&oh=00_AfhH90RercTlx1N4yDyWBW_JqfyeC1FvoJ2UjjczBnOMuw&oe=692F397D)

A partir de enero de 2023, puedes proporcionar un identificador de la app de Facebook para compartir contenido en Instagram Stories. Para obtener más información, consulta [Presentación de una importante actualización en Compartir en historias de Instagram](https://developers.facebook.com/blog/post/2022/10/10/introducing-important-update-to-instagram-sharing-to-stories/). Si no proporcionas un identificador de app, tus usuarios verán el mensaje de error "La app desde la que compartiste no admite actualmente la función de compartir en historias" cuando intenten compartir su contenido en Instagram. Para obtener más información, consulta [Obtener un identificador de la app (Android)](https://developers.facebook.com/docs/android/getting-started#app-id) y [Obtener un identificador de la app (iOS)](https://developers.facebook.com/docs/ios/getting-started#app-id).

## Información general

Gracias a los **intents implícitos** de Android y los **esquemas de URL personalizadas**, tu app puede enviar fotos, videos y stickers a la app de Instagram. La app de Instagram recibe este contenido y lo carga en el editor de historias para que el usuario pueda publicarlo en Instagram Stories.

| ![Editor de historias](https://scontent.fsti4-1.fna.fbcdn.net/v/t39.2365-6/124434142_794885681078288_1538783544453021683_n.png?_nc_cat=111&ccb=1-7&_nc_sid=e280be&_nc_ohc=R1qpScD8aSwQ7kNvwFKVy8t&_nc_oc=AdkFz4kZk5A0WFWvlABBeI9swVPvCGijokx6d76poTP8a6SW-qKYjhQO7Vvk1gLra4j7YDSpM00OM6l9nivTtn2Q&_nc_zt=14&_nc_ht=scontent.fsti4-1.fna&_nc_gid=GPLh-FUnnnxhk8dDwxBa4g&oh=00_Afig2BS5rIiLIgNwgq32QZSxzcesgtw3GfEMJ0cbUZi_Xg&oe=692F3CC7) | El editor de historias de la app de Instagram está compuesto por una capa de fondo y una capa de sticker. |
|--------------------------------------------------|------------------------------------------------------------------------------------------------------------------|
| **Capa de fondo**                               | La capa de fondo cubre la pantalla y puedes personalizarla con una foto, un video, un color sólido o un degradado de color. |
| **Capa de sticker**                             | La capa de sticker puede contener una imagen, y el usuario puede personalizarla aún más mediante el editor de historias. |

## Desarrolladores de Android

Las implementaciones de Android utilizan intents implícitos para iniciar la app de Instagram y pasarle contenido. En general, los pasos del flujo para compartir son los siguientes:

1. Crear una instancia de un intent implícito con el contenido que quieres pasar a la app de Instagram.
2. Iniciar una actividad y comprobar que puede resolver el intent implícito.
3. Resolver la actividad, si es posible.

### Datos

Los siguientes datos se envían cuando compartes contenido en historias.

| Contenido                                      | Tipo   | Descripción                                                                                   |
|------------------------------------------------|--------|-----------------------------------------------------------------------------------------------|
| Identificador de la app de Facebook            | Cadena | El [identificador de la app de Facebook](https://developers.facebook.com/docs/android/getting-started#app-id) |
| Activo de fondo                                | [Uri](https://developer.android.com/reference/android/net/Uri) | URI a un activo de imagen (JPG, PNG) o activo de video (H.264, H.265, WebM). Las dimensiones mínimas son 720 x 1.280. La relación de aspecto recomendada de la imagen es 9:16 o 9:18. Los videos pueden ser de 1080p y tener una duración de hasta 20 segundos. **El URI debe ser un URI de contenido a un archivo local en el dispositivo**. Debes enviar un activo de fondo, un activo de sticker o ambos. |
| Activo de sticker                               | [Uri](https://developer.android.com/reference/android/net/Uri) | URI a un activo de imagen (JPG, PNG). Dimensiones recomendadas: 640 x 480. Esta imagen aparece como un sticker en el fondo. **El URI debe ser un URI de contenido a un archivo local en el dispositivo**. Debes enviar un activo de fondo, un activo de sticker o ambos. |
| Color superior de la capa de fondo             | Cadena | Valor de color de cadena hexadecimal utilizado junto con el valor de color inferior de la capa de fondo. Si ambos valores son iguales, la capa de fondo tendrá un color sólido. Si son diferentes, se usan para generar un gradiente. Si especificas un activo de fondo, se utiliza el activo y se ignora este valor. |
| Color inferior de la capa de fondo             | Cadena | Valor de color de cadena hexadecimal utilizado junto con el valor de color superior de la capa de fondo. Si ambos valores son iguales, la capa de fondo tendrá un color sólido. Si son diferentes, se usan para generar un gradiente. Si especificas un activo de fondo, se utiliza el activo y se ignora este valor. |

### Compartir un activo de fondo

El siguiente ejemplo de código envía una imagen a Instagram para que el usuario pueda publicarla en Instagram Stories.

```java
// Instantiate an intent
Intent intent = new Intent("com.instagram.share.ADD_TO_STORY");

// Attach your App ID to the intent
String sourceApplication = "1234567"; // This is your application's FB ID
intent.putExtra("source_application", sourceApplication);

// Attach your image to the intent from a URI
Uri backgroundAssetUri = Uri.parse("your-image-asset-uri-goes-here");
intent.setDataAndType(backgroundAssetUri, MEDIA_TYPE_JPEG);

// Grant URI permissions for the image
intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);

// Instantiate an activity
Activity activity = getActivity();

// Verify that the activity resolves the intent and start it
if (activity.getPackageManager().resolveActivity(intent, 0) != null) {
    activity.startActivityForResult(intent, 0);
}
```

### Compartir un activo de sticker

Este ejemplo envía un activo de imagen de capa de sticker y un conjunto de colores de capas de fondo a Instagram. Si no especificas los colores de la capa de fondo, el color será `#222222`.

```java
// Instantiate an intent
Intent intent = new Intent("com.instagram.share.ADD_TO_STORY");

// Attach your App ID to the intent
String sourceApplication = "1234567"; // This is your application's FB ID
intent.putExtra("source_application", sourceApplication);

// Attach your sticker to the intent from a URI, and set background colors
Uri stickerAssetUri = Uri.parse("your-image-asset-uri-goes-here");
intent.setType(MEDIA_TYPE_JPEG);
intent.putExtra("interactive_asset_uri", stickerAssetUri);
intent.putExtra("top_background_color", "#33FF33");
intent.putExtra("bottom_background_color", "#FF00FF");

// Instantiate an activity
Activity activity = getActivity();

// Grant URI permissions for the sticker
activity.grantUriPermission("com.instagram.android", stickerAssetUri, Intent.FLAG_GRANT_READ_URI_PERMISSION);

// Verify that the activity resolves the intent and start it
if (activity.getPackageManager().resolveActivity(intent, 0) != null) {
    activity.startActivityForResult(intent, 0);
}
```

### Compartir un activo de fondo y un activo de sticker

Este ejemplo envía un activo de imagen de capa de fondo y un activo de imagen de capa de sticker a Instagram.

```java
// Instantiate an intent
Intent intent = new Intent("com.instagram.share.ADD_TO_STORY");

// Attach your App ID to the intent
String sourceApplication = "1234567"; // This is your application's FB ID
intent.putExtra("source_application", sourceApplication);

// Attach your image to the intent from a URI
Uri backgroundAssetUri = Uri.parse("your-background-image-asset-uri-goes-here");
intent.setDataAndType(backgroundAssetUri, MEDIA_TYPE_JPEG);

// Attach your sticker to the intent from a URI
Uri stickerAssetUri = Uri.parse("your-sticker-image-asset-uri-goes-here");
intent.putExtra("interactive_asset_uri", stickerAssetUri);

// Grant URI permissions for the image
intent.setFlags(Intent.FLAG_GRANT_READ_URI_PERMISSION);

// Instantiate an activity
Activity activity = getActivity();

// Grant URI permissions for the sticker
activity.grantUriPermission("com.instagram.android", stickerAssetUri, Intent.FLAG_GRANT_READ_URI_PERMISSION);

// Verify that the activity resolves the intent and start it
if (activity.getPackageManager().resolveActivity(intent, 0) != null) {
    activity.startActivityForResult(intent, 0);
}
```

## Desarrolladores de iOS

Las implementaciones de iOS utilizan un **esquema de URL personalizada** para iniciar la app de Instagram y pasarle contenido. En general, los pasos del flujo para compartir son los siguientes:

1. Verificar que la app pueda resolver el esquema de URL personalizada de Instagram.
2. Asignar el contenido que quieres compartir al área de pegado.
3. Resolver el esquema de URL personalizada, si la app tiene capacidad para hacerlo.

### Datos

Los siguientes datos se envían cuando compartes contenido en historias.

| Contenido                                      | Tipo   | Descripción                                                                                   |
|------------------------------------------------|--------|-----------------------------------------------------------------------------------------------|
| Identificador de la app de Facebook            | [NSString *](https://developer.apple.com/documentation/foundation/nsstring/) | El [identificador de la app de Facebook](https://developers.facebook.com/docs/ios/getting-started#app-id). |
| Activo de imagen de fondo                      | [NSData *](https://developer.apple.com/documentation/foundation/nsdata/) | Datos de un activo de imagen en formato compatible (JPG, PNG). Las dimensiones mínimas son 720 x 1.280. La relación de aspecto recomendada de la imagen es 9:16 o 9:18. Debes pasar un activo de fondo (imagen o video), un activo de sticker o ambos a la app de Instagram. |
| Activo de video de fondo                       | [NSData *](https://developer.apple.com/documentation/foundation/nsdata/) | Datos de un activo de video en un formato compatible (H.264, H.265, WebM). Los videos pueden ser de 1.080 píxeles y tener una duración de hasta 20 segundos. Se recomienda menos de 50 MB. Debes pasar un activo de fondo (imagen o video), un activo de sticker o ambos a la app de Instagram. |
| Activo de sticker                               | [NSData *](https://developer.apple.com/documentation/foundation/nsdata/) | Datos de un activo de imagen en formato compatible (JPG, PNG). Dimensiones recomendadas: 640 x 480. Esta imagen aparece como un sticker en el fondo. Debes pasar un activo de fondo (imagen o video), un activo de sticker o ambos a la app de Instagram. |
| Color superior de la capa de fondo             | [NSString *](https://developer.apple.com/documentation/foundation/nsstring/) | Valor de color de cadena hexadecimal utilizado junto con el valor de color inferior de la capa de fondo. Si ambos valores son iguales, la capa de fondo tendrá un color sólido. Si son diferentes, se usan para generar un gradiente. |
| Color inferior de la capa de fondo             | [NSString *](https://developer.apple.com/documentation/foundation/nsstring/) | Valor de color de cadena hexadecimal utilizado junto con el valor de color superior de la capa de fondo. Si ambos valores son iguales, la capa de fondo tendrá un color sólido. Si son diferentes, se usan para generar un gradiente. |

### Registrar el esquema de URL personalizada de Instagram

Debes registrar el esquema de URL personalizada de Instagram antes de que lo use la app. Agrega `instagram-stories` a la clave `LSApplicationQueriesSchemes` en la `Info.plist` de la app.

### Compartir un activo de fondo

El siguiente ejemplo de código envía un activo de imagen de capa de fondo a Instagram para que el usuario pueda editarlo y publicarlo en Instagram Stories.

```objective-c
- (void)shareBackgroundImage {
    // Identify your App ID
    NSString * const appIDString = @"1234567890";

    // Call method to share image
    [self backgroundImage:UIImagePNGRepresentation([UIImage imageNamed:@"backgroundImage"]) appID:appIDString];
}

// Method to share image
- (void)backgroundImage:(NSData *)backgroundImage appID:(NSString *)appID {
    NSURL *urlScheme = [NSURL URLWithString:[NSString stringWithFormat:@"instagram-stories://share?source_application=%@", appID]];

    if ([[UIApplication sharedApplication] canOpenURL:urlScheme]) {
        // Attach the pasteboard items
        NSArray *pasteboardItems = @[@{@"com.instagram.sharedSticker.backgroundImage": backgroundImage}];

        // Set pasteboard options
        NSDictionary *pasteboardOptions = @{UIPasteboardOptionExpirationDate: [[NSDate date] dateByAddingTimeInterval:60 * 5]};

        // This call is iOS 10+, can use 'setItems' depending on what versions you support
        [[UIPasteboard generalPasteboard] setItems:pasteboardItems options:pasteboardOptions];

        [[UIApplication sharedApplication] openURL:urlScheme options:@{} completionHandler:nil];
    } else {
        // Handle error cases
    }
}
```

### Compartir un activo de sticker

En este código de ejemplo, se muestra cómo pasar a la app de Instagram un activo de imagen de capa de sticker y un conjunto de colores de capa de fondo. Si no especificas los colores de la capa de fondo, el color será `#222222`.

```objective-c
- (void)shareStickerImage {
    // Identify your App ID
    NSString * const appIDString = @"1234567890";

    // Call method to share sticker
    [self stickerImage:UIImagePNGRepresentation([UIImage imageNamed:@"stickerImage"]) 
    backgroundTopColor:@"#444444" 
    backgroundBottomColor:@"#333333" 
    appID:appIDString];
}

// Method to share sticker
- (void)stickerImage:(NSData *)stickerImage 
    backgroundTopColor:(NSString *)backgroundTopColor 
    backgroundBottomColor:(NSString *)backgroundBottomColor 
    appID:(NSString *)appID {
    NSURL *urlScheme = [NSURL URLWithString:[NSString stringWithFormat:@"instagram-stories://share?source_application=%@", appID]];

    if ([[UIApplication sharedApplication] canOpenURL:urlScheme]) {
        // Attach the pasteboard items
        NSArray *pasteboardItems = @[@{@"com.instagram.sharedSticker.stickerImage": stickerImage, 
                                       @"com.instagram.sharedSticker.backgroundTopColor": backgroundTopColor, 
                                       @"com.instagram.sharedSticker.backgroundBottomColor": backgroundBottomColor}];

        // Set pasteboard options
        NSDictionary *pasteboardOptions = @{UIPasteboardOptionExpirationDate: [[NSDate date] dateByAddingTimeInterval:60 * 5]};

        // This call is iOS 10+, can use 'setItems' depending on what versions you support
        [[UIPasteboard generalPasteboard] setItems:pasteboardItems options:pasteboardOptions];

        [[UIApplication sharedApplication] openURL:urlScheme options:@{} completionHandler:nil];
    } else {
        // Handle error cases
    }
}
```

### Compartir un activo de fondo y un activo de sticker

En este código de ejemplo, se muestra cómo pasar a la app de Instagram un activo de imagen de capa de fondo y un activo de imagen de capa de sticker.

```objective-c
- (void)shareBackgroundAndStickerImage {
    // Identify your App ID
    NSString * const appIDString = @"1234567890";

    // Call method to share image and sticker
    [self backgroundImage:UIImagePNGRepresentation([UIImage imageNamed:@"backgroundImage"]) 
    stickerImage:UIImagePNGRepresentation([UIImage imageNamed:@"stickerImage"]) 
    appID:appIDString];
}

// Method to share image and sticker
- (void)backgroundImage:(NSData *)backgroundImage 
    stickerImage:(NSData *)stickerImage 
    appID:(NSString *)appID {
    NSURL *urlScheme = [NSURL URLWithString:[NSString stringWithFormat:@"instagram-stories://share?source_application=%@", appID]];

    if ([[UIApplication sharedApplication] canOpenURL:urlScheme]) {
        // Attach the pasteboard items
        NSArray *pasteboardItems = @[@{@"com.instagram.sharedSticker.backgroundImage": backgroundImage, 
                                       @"com.instagram.sharedSticker.stickerImage": stickerImage}];

        // Set pasteboard options
        NSDictionary *pasteboardOptions = @{UIPasteboardOptionExpirationDate: [[NSDate date] dateByAddingTimeInterval:60 * 5]};

        // This call is iOS 10+, can use 'setItems' depending on what versions you support
        [[UIPasteboard generalPasteboard] setItems:pasteboardItems options:pasteboardOptions];

        [[UIApplication sharedApplication] openURL:urlScheme options:@{} completionHandler:nil];
    } else {
        // Handle error cases
    }
}
```

## Compartir en Facebook Stories

También puedes permitir que los usuarios de la app compartan contenido en una historia de Facebook. Para obtener información, consulta nuestra [documentación sobre cómo compartir en Facebook Stories](https://developers.facebook.com/docs/sharing/sharing-to-stories).
```



## Page: https://developers.facebook.com/docs/instagram-platform/changelog

```markdown
# Changelog for Instagram Platform

This changelog refers to changes made for the Instagram APIs.

### Related Changelogs

- [Graph API Changelog](https://developers.facebook.com/docs/graph-api/changelog)
- [Marketing API Changelog](https://developers.facebook.com/docs/marketing-api/changelog)
- [Messenger Platform Changelog](https://developers.facebook.com/docs/messenger-platform/changelog) (includes Instagram Messaging)

## November 3, 2025

You can now send a collection of images in Instagram Direct. See the [updated dev docs](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login/messaging-api/).

November 3, 2025: Multi-image sending is a Beta feature that will be rolled out incrementally over a few weeks. While the feature is rolled out, some Instagram accounts may get an error response [2534068](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login/messaging-api/#send-images) to indicate that the feature is not yet available for that account.

## September 23, 2025

Businesses can now display typing indicators and mark_seen indicators in a conversation to let message recipients know that the business has seen and are processing their message, using [Sender Actions](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login/messaging-api/sender-actions).

## Sept 10, 2025

*Applies to all versions.*

Introducing the new `message_edit` webhook subscription supporting both use cases of both Business Login for Instagram and Facebook Login for Business. Sample `message_edit` webhook can be found [here](https://developers.facebook.com/docs/instagram-platform/webhooks/examples?locale=en_US#message-edit).

## June 16, 2025

*Applies to all versions.*

Introducing the new `view_count` field on the [IG Media endpoint](https://developers.facebook.com/docs/instagram-platform/reference/instagram-media#fields). This field is only available using the [Business Discovery API](https://developers.facebook.com/docs/instagram-platform/instagram-graph-api/reference/ig-user/business_discovery/) for Instagram Reels.

## June 14, 2025

### Business Login for Instagram

*Applies to all versions.*

Introducing the `force_reauth` parameter for Business Login for Instagram. When included in the login flow, this parameter fixes the broken login experience by forcing the app user to reauthenticate even if the user is already logged into Instagram.

We recommend adding the `force_reauth` parameter to your app's Business Login for Instagram flow, especially if your app users log in on mobile devices.

#### Deprecation

*Applies to all versions.*

The following parameters have been deprecated for Business Login for Instagram:
- `enable_fb_login`
- `force_authentication`

## April 8, 2025

### Meta oEmbed Read Feature

*Applies to all versions.*

Introducing the new [Meta oEmbed Read](https://developers.facebook.com/docs/features-reference/meta-oembed-read) feature that is replacing the existing oEmbed Read feature. The current [oEmbed Read feature](https://developers.facebook.com/docs/features-reference/oembed-read) will be deprecated on November 3, 2025.

- Apps created after April 8, 2025 that implement oEmbed will use the new Meta oEmbed Read feature.
- Existing apps that already use the current oEmbed Read feature will be automatically updated to the new Meta oEmbed Read feature by November 3, 2025.

Read the [oEmbed Updates blog post](https://developers.facebook.com/blog/post/2025/04/08/oembed-updates/) from Meta to learn more.

### oEmbed Response Updates

*Applies to all versions.*

The `author_name`, `author_url`, `thumbnail_url`, `thumbnail_width`, and `thumbnail_height` fields will be removed from the Facebook post, Facebook video, and Instagram post oEmbed response. The Facebook page post oEmbed endpoint will be deprecated. These changes will apply across all API versions on November 3, 2025.

## March 24, 2025

### Alternative text for image posts

*Applies to all versions.*

Introducing the new `alt_text` field for image posts on the `/{ig-user-id}/media` endpoint. Reels and stories are not supported.

## January 21, 2025

### Insights APIs

*Applies to all versions.*

[Insights APIs for both media and user objects](https://developers.facebook.com/docs/instagram-platform/insights) are now available for apps that have implemented Instagram API with Instagram Login.

#### Insights metrics

Introducing the following metrics field for media and user insights:
- `views`

##### Metric Deprecations

*Applies to v22.0+. Will apply to all versions April 21, 2025.*

- `clips_replays_count` on media insights
- `ig_reels_aggregated_all_plays_count` on media insights
- `impressions` on media and user insights
- `plays` on media insights

**Note:** API requests with the impressions metric will continue to return data for media created on or before July 1, 2024 for v21.0 and older. API requests made after April 21, 2025 for media created on or after July 2, 2024 will return an error.

### v1.0 Endpoint Deprecations

*Applies to v22.0+. Will apply to all versions May 20, 2025.*

The [Instagram v1.0 API](https://developers.facebook.com/docs/marketing-api/reference) is deprecated.

The following endpoints are affected:
- `GET /{instagram-user-id}`
- `GET /{instagram-user-id}/agencies`
- `GET /{instagram-user-id}/upcoming-events`
- `GET /{instagram-user-id}/authorized-adaccounts`
- `POST /{instagram-user-id}/upcoming-events`
- `POST /{instagram-user-id}/authorized-adaccounts`
- `GET /{instagram-media-id}`
- `GET /{instagram-media-id}/comments`
- `GET /{instagram-carousel-id}`
- `GET /{instagram-carousel-id}/comments`
- `GET /{instagram-comment-id}`
- `GET /{instagram-comment-id}/replies`
- `POST /{instagram-media-id}/comments`
- `POST /{instagram-carousel-id}/comments`
- `POST /{instagram-comment-id}/replies`
- `POST /{instagram-comment-id}`
- `DELETE /{instagram-comment-id}`
- `GET /{page-id}/instagram-accounts`
- `GET /{page-id}/page-backed-instagram-accounts`
- `GET /{business-id}/owned-instagram-accounts`
- `GET /{business-id}/instagram-accounts`
- `GET /{business-asset-group-id}/contained-instagram-accounts`
- `GET /{fb-business-user-id}/assigned-instagram-accounts`
- `GET /{fb-user-id}/assigned-instagram-accounts`
- `GET /{fb-system-user-id}/assigned-instagram-accounts`
- `GET /{ad account id}/instagram-accounts`
- `GET /{ad account id}/connected-instagram-accounts-with-iabp`
- `POST /{page-id}/page-backed-instagram-accounts`
- `DELETE /{business-id}/instagram-accounts`

Please migrate your API calls to the [Instagram Platform endpoints](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-facebook-login).

## December 4, 2024

### Instagram Basic Display API

*Applies to all versions.*

The Instagram Basic Display API has been deprecated. All requests to the Instagram Basic Display API will return an error message. We recommend that you migrate your app to the [Instagram API](https://developers.facebook.com/docs/instagram-platform) to avoid any disruption to your services.

[Visit our News for Developers blog post](https://developers.facebook.com/blog/post/2024/09/04/update-on-instagram-basic-display-api/) to learn more.

## October 3, 2024

Welcome Message Flows now available for Instagram API with Instagram Login. [Learn more.](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login/welcome-message-ads)

## October 2, 2024

### Media Insights

*Applies to v21.0+. Will apply to all versions on January 8, 2025.*

The video media metric `video_views` will no longer be supported.

The following endpoints and metrics are affected:
- [GET /{ig-media-id}/insights](https://developers.facebook.com/docs/instagram-platform/instagram-graph-api/reference/ig-media/insights)
  - `video_views`

### User Insights

*Applies to v21.0+. Will apply to all versions on January 8, 2025.*

The `email_contacts`, `get_direction_clicks`, `profile_views`, `text_message_clicks`, `website_clicks`, and `phone_call_clicks` time series metrics will no longer be supported.

The following endpoints and metrics are affected:
- [GET /{ig-user-id}/insights](https://developers.facebook.com/docs/instagram-platform/instagram-graph-api/reference/ig-user/insights)
  - `email_contacts`
  - `get_direction_clicks`
  - `profile_views`
  - `text_message_clicks`
  - `website_clicks`
  - `phone_call_clicks`

## September 17, 2024

### New `scope` values

*Applies to all versions.*

To ensure consistency between `scope` values and permission names, we are introducing new `scope` values for the Instagram API with Instagram login. The new `scope` values are:
- `instagram_business_basic`
- `instagram_business_content_publish`
- `instagram_business_manage_comments`
- `instagram_business_manage_messages`

These will replace the existing `business_basic`, `business_content_publish`, `business_manage_comments`, and `business_manage_messages` values, respectively.

Please note that the old `scope` values will be deprecated on **January 27, 2025**. It is essential to update your code before this date to avoid any disruption in your app's functionality. Failure to do so will result in your app being unable to call the Instagram endpoints.

*Correction: Deprecation date moved from December 17, 2024 to January 27, 2025.*

## July 23, 2024

### Launch of the new Instagram API with Instagram Login

[Components of this new Instagram API:](https://developers.facebook.com/docs/instagram/platform/instagram-api/overview)
- A Facebook Page will no longer be required
- The host URL for API calls is `graph.instagram.com`
- New permissions for this API:
  - `instagram_business_basic`
  - `instagram_business_content_publish`
  - `instagram_business_manage_comments`
  - `instagram_business_manage_messages`
- The Messenger API will no longer be used to send Instagram messages
- New apps will add the new **Instagram** product when creating a Meta app
- Existing apps can add the new **Instagram** product in the App Dashboard

[Visit our migration guide to learn if this new Instagram API with Instagram Login is right for you](https://developers.facebook.com/docs/instagram/platform/instagram-api/migration-guide/).

## June 11, 2024

### Instagram Comment Webhooks

*Applies to all versions.*

In addition to the `ad_id` and `ad_title`, the `original_media_id` will be returned in the `media` object of the `comments` field's `value` object when a person comments on a [boosted Instagram post or Instagram ads post](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F1067656009937668%3Ffbclid%3DIwZXh0bgNhZW0CMTEAAR2i62iodWTkYw6zxMECPgX9Yk_tQWUYn_lJVF7NqWG2BctOdXWuiEmvCcQ_aem_AV2qOl5tm8Gmc2H4c1yRxV-6f--PTgs4zLXmCxf4khjFVPIWpUr8RxKjWrz4g9n3b0aa51t0NhLlWRwl65BZEVME&h=AT2qI9Ro2SS4N8mEkoOVeHAsCfxJ-6zfk8iVqosqOGoahFOxa8TnNDeseNIFHzU9U9tb4WqEM6BnsY743y2XFycYbpMy3jfCYJ-j62bc2vtdk3UM5j0lUHRed7ohgcL8ylsoiTvve9LZ7R_m-uoy878EiXQ-5xnZfX3qACLwiCM). For more information, refer to [Set Up Webhooks for Instagram](https://developers.facebook.com/docs/instagram-api/guides/webhooks/).

## May 21, 2024

### Instagram User Insights

*Applies to v20.0+. Will apply to all versions on August 19, 2024.*

The `last_14_days`, `last_30_days`, `last_90_days`, and `prev_month` timeframes will no longer be supported for the `reached_audience_demographics` and `engaged_audience_demographics` metrics.

The following endpoints and metrics are affected:
- [GET /{ig-user-id}/insights](https://developers.facebook.com/docs/instagram-api/reference/ig-user/insights)
  - `engaged_audience_demographics`
  - `reached_audience_demographics`

## September 12, 2023

### Deprecation of Media and User Insights

*Applies to v18.0+. Will apply to all versions on December 11, 2023.*

Duplicative and legacy Instagram insight metrics are being deprecated. Please see documentation for the endpoints and [Instagram Insights](https://developers.facebook.com/docs/instagram-api/guides/insights) for more information on which metrics to use in their place.

The following endpoints and metrics are affected:
- [GET /{ig-user-id}/insights](https://developers.facebook.com/docs/instagram-api/reference/ig-user/insights)
  - `AUDIENCE_GENDER_AGE`
  - `AUDIENCE_LOCALE`
  - `AUDIENCE_COUNTRY`
  - `AUDIENCE_CITY`
- [GET /{ig-media-id}/insights](https://developers.facebook.com/docs/instagram-api/reference/ig-media/insights)
  - `CAROUSEL_ALBUM_IMPRESSIONS`
  - `CAROUSEL_ALBUM_REACH`
  - `CAROUSEL_ALBUM_ENGAGEMENT`
  - `CAROUSEL_ALBUM_SAVED`
  - `CAROUSEL_ALBUM_VIDEO_VIEWS`
  - `TAPS_FORWARD`
  - `TAPS_BACK`
  - `EXITS`
  - `ENGAGEMENT`

**Note:** `total_interactions`, which is listed as an alternative for some of the deprecated metrics, is currently only available using version 18.0 and does not work with older versions. When querying older versions before Dec 11, 2023, please use the `engagement` metric.

## November 9, 2022

### Instagram Webhooks

*Applies to all versions.*

The `ad_id` and `ad_title` will be returned in the `media` object of the `comments` field's `value` object when a person comments on a [boosted Instagram post or Instagram ads post](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F1067656009937668&h=AT33KShCa-uUlFelObblrBz_LaQ8LCsqLSLjNtB9nCCutctUJECCsi56omK0K2ccOupjqnEoo0Bq4ZeH2cXeKMMBpG4JV4aDotpCxyYUliIfnx5Zp25q5STdFIbBqZ_pLIxIpeQnINQXcxDL6zpYMn4Q2TfcUNsOx2Pw_LbuYu4).

## October 31st

### Reels – Product Tags

*Applies to all versions.*

Instagram Product Tagging API for Reels is made available. You can tag up to 30 products when publishing a reel.

## June 28, 2022

### Reels

*Applies to all versions.*

Reels are now supported. To publish a video as a reel, set the `media_type` parameter to `REELS` when creating a [single media post](https://developers.facebook.com/docs/instagram-api/guides/content-publishing#single-media-posts) container. Refer to the [POST /ig-user/media endpoint](https://developers.facebook.com/docs/instagram-api/reference/ig-user/media#creating) reference to learn which parameters can be used with reels as well as requirements for reels videos.

**Note:** Beginning November 9, 2023, the `VIDEO` value for `media_type` will no longer be supported. Use the `REELS` media type to publish a video to your feed.

## June 27, 2022

### Documentación sobre la API heredada de Instagram

*Se aplica a todas las versiones.*

Se eliminó la [documentación para desarrolladores sobre la API heredada de Instagram](https://l.facebook.com/l.php?u=https%3A%2F%2Fwww.instagram.com%2Fdeveloper%2F&h=AT3I_lWnObqrZkGscfqt2ieEMkwx13Tv0jTYUZgV6HSnP1qSzhXJkOdd4-3ra3oLXPxkUVNqaymedhDK-oVisUlcHvIDQctLTiGSzDT4wTP2BP1UVWUDnfVg0zz1S8ZHtRElhHxkvS-z-K8dTUOqfdZIEyGGOY6883glwKNk3J4) y ahora redirecciona a la documentación para desarrolladores de la [plataforma de Instagram](https://developers.facebook.com/docs/instagram).

## June 20, 2022

### Etiquetado de productos

*Se aplica a todas las versiones.*

Ahora puedes crear y administrar [etiquetas de compra de productos en Instagram](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F2022466637835789&h=AT0gO8GK1oAkFvpUBafWGY8bDU4LpTXFEKmqS0bP1UR5oM7CWXKWqkPCt2NFmSv25YS5RKfzNXU9IkdDKkm3d3OJrok3jaeJFIo5XeM03WDpPzbvKbqLlzWoU9v1BRc5r0hJDQ_fidsCDg9V4nsWoEtW7FDTLVhNxkjdQDc-4Xs) en contenido multimedia publicado por una empresa en esta red. Consulta la guía [Etiquetado de productos](https://developers.facebook.com/docs/instagram-api/guides/product-tagging) para descubrir cómo hacerlo.

## May 27, 2022

### Product Variants

*Applies to all versions.*

For partners in the [Product Tagging](https://developers.facebook.com/docs/instagram-api/guides/product-tagging) beta, all [product variants](https://developers.facebook.com/docs/marketing-api/catalog/guides/product-variants) that match a query's search criteria will now be returned when [searching a catalog for products](https://developers.facebook.com/docs/instagram-api/guides/product-tagging#get-eligible-products).

## March 15, 2022

### Publicaciones por secuencia

*Se aplica a todas las versiones.*

Ahora puedes usar la API de Instagram para hacer publicaciones con varios videos e imágenes ([publicaciones por secuencia](https://developers.facebook.com/docs/instagram-api/guides/content-publishing#carousel-posts)). Consulta la guía sobre [publicación de contenido](https://developers.facebook.com/docs/instagram-api/guides/content-publishing) si deseas conocer todos los pasos que se deben seguir para realizar una publicación.

Si tu app ya cuenta con los [permisos](https://developers.facebook.com/docs/instagram-api/guides/content-publishing#permissions) necesarios para publicar contenido, no es necesario volver a realizar la [revisión de apps](https://developers.facebook.com/docs/app-review) para aprovechar esta funcionalidad.

## November 9, 2021

### Videos en vivo

*Se aplica a todas las versiones.*

Ahora, puedes usar la API de Instagram para obtener contenido multimedia de Instagram de los videos en vivo que están transmitiendo los usuarios de tu app, obtener los comentarios de esos videos y usar la API de mensajes de Instagram para enviar respuestas privadas (mensajes directos) a los autores de los comentarios. Para admitir esta funcionalidad, se realizaron los siguientes cambios:
- Un nuevo perímetro [GET /ig-user/live_media](https://developers.facebook.com/docs/instagram-api/reference/ig-user/live_media#reading) puede devolver el [contenido multimedia de Instagram](https://developers.facebook.com/docs/instagram-api/reference/ig-media/) de videos en vivo que está transmitiendo el usuario de tu app al momento de la solicitud.
- Ahora, el campo `media` en un [comentario de Instagram](https://developers.facebook.com/docs/instagram-api/reference/ig-comment/) devuelve un objeto que contiene tanto el identificador (`id`) como la ubicación de publicación (`media_product_type`) del contenido multimedia sobre el cual se realizó el comentario.
- Un nuevo campo [live_comments](https://developers.facebook.com/docs/graph-api/webhooks/reference/instagram/#live_comments) de webhooks de Instagram puede enviar notificaciones con comentarios en vivo realizados en los videos en vivo de los usuarios de tu app mientras se transmiten.

Consulta la documentación sobre respuestas privadas de la [API de mensajes de Instagram](https://developers.facebook.com/docs/messenger-platform/instagram) para obtener información sobre cómo enviar [respuestas privadas](https://developers.facebook.com/docs/messenger-platform/instagram/features/private-replies) a usuarios que hayan comentado en el contenido multimedia de Instagram de videos en vivo de los usuarios de la app.

## October 20, 2021

### Comentarios de Instagram

*Se aplica a todas las versiones.*

Se agregaron dos nuevos [campos](https://developers.facebook.com/docs/instagram-api/reference/ig-comment#fields) a los [comentarios de Instagram](https://developers.facebook.com/docs/instagram-api/reference/ig-comment):
- `from`: devuelve un objeto que contiene el [IGSID](https://developers.facebook.com/docs/messenger-platform/instagram/overview#igsid) (`id`) y el nombre de usuario (`username`) del creador del comentario.
- `parent_id`: devuelve el identificador del comentario principal de Instagram si dicho comentario se creó en otro comentario de Instagram (por ejemplo, una respuesta a otro comentario).

#### Webhooks de Instagram

*Se aplica a todas las versiones.*

El [campo](https://developers.facebook.com/docs/graph-api/webhooks/reference/instagram/#comments) de webhooks `comments` de Instagram incluye ahora las siguientes propiedades en el objeto del campo `value`:
- `from.id`: el [IGSID](https://developers.facebook.com/docs/messenger-platform/instagram/overview#igsid) del usuario de Instagram que creó el comentario.
- `from.username`: el nombre de usuario del usuario de Instagram que creó el comentario.
- `media.id`: identificador del contenido multimedia de Instagram sobre el que se hizo el comentario.
- `media.media_product_type`: superficie (ubicación publicada) del contenido multimedia de Instagram sobre el que se hizo el comentario.
- `parent_id`: el identificador del comentario principal de Instagram si dicho comentario se creó en otro comentario de Instagram (por ejemplo, una respuesta a otro comentario).

## October 5, 2021

Los siguientes cambios se aplican a los videos de Instagram TV creados el 5 de octubre de 2021 o con posterioridad. Los videos de Instagram TV que se crearon antes de esa fecha quedan exceptuados de estos cambios.
- El [campo](https://developers.facebook.com/docs/instagram-api/reference/ig-media/#fields)`media_product_type` devolverá `FEED` en vez de `IGTV`.
- El [campo](https://developers.facebook.com/docs/instagram-api/reference/ig-media/#fields)`video_title` no se devolverá.
- Ahora, se admiten los `comments` de los [webhooks de Instagram](https://developers.facebook.com/docs/instagram-api/guides/webhooks) y los campos `mentions`.

El 3 de enero de 2022, se aplicarán los cambios mencionados a todas las versiones de la API y a todos los videos de Instagram TV, sin importar cuándo se crearon. Esto significa que, a partir del 3 de enero de 2022, las apps que utilicen versiones anteriores de la API podrán solicitar videos de Instagram TV (se incorporó la compatibilidad de lectura en la versión 10.0 y, de manera limitada, en las versiones posteriores).

Se dejará de admitir, a partir de la versión 14.0, el campo `video_title`. La API mostrará un error si se solicita ese campo.

## June 8, 2021

### Like Counts

*Applies to v11.0+. Will apply to all versions September 7, 2021.*

If indirectly querying an [IG Media](https://developers.facebook.com/docs/instagram-api/reference/ig-media) through another endpoint or field expansion, the [`like_count`](https://developers.facebook.com/docs/instagram-api/reference/ig-media#fields) field will be omitted from API responses if the media owner has hidden like counts on it. Directly querying the IG Media (which can only be done by the IG Media owner) will return the actual like count, however, even if like counts have been hidden.

### Time-based Pagination

*Applies to v11.0+.*

Added [`since`](https://developers.facebook.com/docs/instagram-api/reference/ig-media/#query-string-parameters) and [`until`](https://developers.facebook.com/docs/instagram-api/reference/ig-media/#query-string-parameters) parameters to the [`GET /{ig-user-id}/media`](https://developers.facebook.com/docs/instagram-api/reference/ig-media/#reading) endpoint to support [time-based pagination](https://developers.facebook.com/docs/graph-api/using-graph-api#time).

## May 26, 2021

Si se solicita de manera indirecta un contenido multimedia de IG a través de otro punto de conexión, el campo [`like_count`](https://developers.facebook.com/docs/instagram-api/reference/ig-media#fields) devolverá ahora `0`, siempre que el usuario de la app no sea [propietario](https://developers.facebook.com/docs/instagram-api/overview#authorization) del contenido multimedia y el propietario del contenido multimedia tenga ahí conteos de Me gusta [ocultos](https://www.facebook.com/help/instagram/113355287252104). Solicitar de manera directa el contenido multimedia de IG, que solo el propietario del contenido multimedia de IG puede hacerlo, devolverá el conteo real de Me gusta, incluso si el propietario ocultó el conteo de Me gusta en el contenido multimedia.

## May 4, 2021

Hicimos un cambio menor en la forma en que calculamos la métrica [`online_followers`](https://developers.facebook.com/docs/instagram-api/reference/ig-user/insights#metrics-and-periods) de los usuarios de IG.

## April 14, 2021

Las interacciones con [contenido multimedia de Instagram](https://developers.facebook.com/docs/instagram-api/reference/ig-media/insights#metrics) para historias realizadas por usuarios en Japón ya no se incluyen en algunos cálculos de la métrica `replies`:
- En el caso de las historias creadas por usuarios de Japón, la métrica `replies` ahora devolverá el valor `0`.
- En el caso de las historias creadas por usuarios fuera de Japón, la métrica `replies` devolverá la cantidad de respuestas, pero el cálculo no incluirá las respuestas de los usuarios de Japón.

## April 12, 2021

Fixed a minor bug with reach [metrics](https://developers.facebook.com/docs/instagram-api/reference/ig-media/insights#metrics) on story IG Media.

## April 9, 2021

- El campo `status` de un [contenedor de IG](https://developers.facebook.com/docs/instagram-api/reference/ig-container) ahora devuelve un [subcódigo de error](https://developers.facebook.com/docs/instagram-api/reference/error-codes) si el valor del campo `error_code` del contenedor es `ERROR`.
- La métrica de [insights sobre medios de IG](https://developers.facebook.com/docs/instagram-api/reference/ig-media/insights) `video_views` ahora admite álbumes y devolverá la suma de `video_views` en todos los videos del álbum en lugar de `0`.

## March 16, 2021

IGTV media is [now supported in v10.0+](https://developers.facebook.com/blog/post/2021/03/15/igtv-media-mmetrics-instagram-graph-api/). This applies to all endpoints except those used for content publishing and webhooks. To support this change, new `media_product_type` and `video_title` fields have been added to the [IG Media](https://developers.facebook.com/docs/instagram-api/reference/ig-media) node. IGTV media must have been shared to Instagram at the time of publish (**Post a Preview** or **Share Preview** to Feed enabled) in order to be accessible via the API.

## Januray 26, 2021

The Content Publishing beta has ended and all developers can now publish media on Instagram Professional accounts. Refer to the [Content Publishing](https://developers.facebook.com/docs/instagram-api/guides/content-publishing) guide for usage details.

## December 2, 2020

In compliance with the European Union's [ePrivacy Directive](https://l.facebook.com/l.php?u=https%3A%2F%2Feur-lex.europa.eu%2Flegal-content%2FEN%2FTXT%2F%3Furi%3DCELEX%253A02002L0058-20091219&h=AT1C-YeN1uQl1Z2EfaImvdERDiYU9QjP5TgzXNYQWp2bI0zHktDhlt_Cq8_S2XdIQKcxtGA_jSrDd0WE63GSVXIInxAfw0SO6EvXdqedW4hso3DKgMY8z3Z5f0oE8PHBBk8-kR1hyDdBnDE8n-1_9vchTXqYm3hDyF4RgxbVF1A), messaging-related Story [IG Media](https://developers.facebook.com/docs/instagram-api/reference/ig-media) interactions performed by users in the European Economic Area (EEA) after December 1, 2020, will no longer be included in some metric calculations:
- For Stories created by users in the EEA, the [`replies`](https://developers.facebook.com/docs/instagram-api/reference/ig-media/insights#metrics) metric will now return a value of `0`.
- For Stories created by users outside the EEA, the [`replies`](https://developers.facebook.com/docs/instagram-api/reference/ig-media/insights#metrics) metric will return the number of replies, but replies made by users in the EEA will not be included in its calculation.

This change applies to all versions.

## November 10, 2020

- **IG User Insights** — The [`follower_count`](https://developers.facebook.com/docs/instagram-api/reference/ig-user/insights) values now align more closely with their corresponding values displayed in the Instagram app. In addition, [`follower_count`](https://developers.facebook.com/docs/instagram-api/reference/ig-user/insights) now returns a maximum of 30 days of data instead of 2 years. This change applies to v9.0+ and will apply to all versions May 9, 2021.

## May 5, 2020

- **Hashtag Search** — *This change applies to v7.0+* — You can now request the `timestamp` field on [IG Media](https://developers.facebook.com/docs/instagram-api/reference/ig-media/) returned by [GET /{ig-hashtag-id}/top_media](https://developers.facebook.com/docs/instagram-api/reference/ig-hashtag/top-media#reading) and [GET /{ig-hashtag-id}/recent_media](https://developers.facebook.com/docs/instagram-api/reference/ig-hashtag/recent-media#reading) [Hashtag Search](https://developers.facebook.com/docs/instagram-api/guides/hashtag-search) queries. For example: `GET /{ig-hashtag-id}/top_media?fields=timestamp`.

## December 3, 2019

- **Insights** — To align API behavior with Instagram app behavior, insights on [IG Users](https://developers.facebook.com/docs/instagram-api/reference/ig-user/) are now only available on IG Users that have 100 or more followers.

## August 13, 2019

- **Business Discovery** — The [Business Discovery API](https://developers.facebook.com/docs/instagram-api/reference/ig-user/business_discovery) can now be used to get data about other Instagram Creator accounts.

## May 22, 2019

- **Instagram Creator Accounts** — The API now supports [Instagram Creator Accounts](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F1158274571010880&h=AT00_MXcF_pvBoBEhhM9ZD8PwM0JGdeQQIIW9zkd9gq_yf9Hw9Q9I1Z826r7Qe26-aAdXg9NH1uJ8n473KGAjTHwiJ1waA8hz0xyqen-hNMp6sJSF927iGsHauUjXKwtopWKk8T-SQ6OEFTXI6iniM8pPbyDXqih6Knu9YervUU), with two exceptions. (1) The [Content Publishing API](https://developers.facebook.com/docs/instagram-api/guides/content-publishing) cannot be used by Instagram Creators, and (2) the [Business Discovery API](https://developers.facebook.com/docs/instagram-api/guides/business-discovery) can be used by Creators but can only target Businesses.

## May 9, 2019

- **Webhooks** — The `story_insights` field now requires the `instagram_manage_insights` permission instead of `instagram_manage_comments`.

## October 31, 2018

- **Hashtag Search API** — You can now search for media tagged with specific hashtags by using our new [Hashtag Search API](https://developers.facebook.com/docs/instagram-api/guides/hashtag-search). `#spooky`!

## October 23, 2018

- `/{ig-media-id}/comments` edge — `GET` requests made using API version 3.1 or older will have results returned in chronological order. Requests made using version 3.2+ will have results returned in reverse chronological order.

## June 7, 2018

- `/{ig-media-id}` node — You can now use field expansion to get the `permalink` field on media objects.

## May 1, 2018

- **Business Verification** — In order to use the Instagram Graph API, all apps must undergo [Business Verification](https://developers.facebook.com/docs/apps/review), which is part of the App Review process and now required for all Instagram Graph API endpoints. Apps previously reviewed before May 1st, 2018, have to be reviewed again, and have until August 1st, 2018 to do so, or lose access to the API.

## April 24, 2018

- `/{ig-comment-id}` node:
  - Added a new `username` field.
  - For `GET` requests, the `user` field will not be included in responses unless the User making the request owns the Comment; instead, we will return `username` for all commenters. This also applies to queries on Comments made through other APIs, such as the Mentions API.

- `/{ig-media-id}` node:
  - Added a new `username` field.
  - For `GET` requests, the `owner` field will not be included in responses unless the User making the request owns the media object; instead, we will return `username` for all commenters. This also applies to queries on media objects made through other APIs, such as the Mentions API.

## April 23, 2018

- **Insights API** — Insights will now include ad activity generated through the API, Facebook ads interfaces, and Instagram's Promote feature. This affects the following metrics:
  - `impressions`
  - `reach`

## March 13, 2018

- **Content Publishing API** — Beta partners can now use the `/{ig-user-id}/media` edge to tag [locations](https://developers.facebook.com/docs/instagram-api/guides/content-publishing#publish-with-locations) and public Instagram [users](https://developers.facebook.com



## Page: https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login

# Instagram API with Instagram Login

The Instagram API with Instagram Login allows [Instagram professionals](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F502981923235522&amp;h=AT1X8fa_ckfFBLF2UprClXNFq2qnljzWYgyWH-1Gb8zgiFWhuBSHx8jTmVpaFmvggnSZQF7srmlgHwdlR-z_A9E0hDLQvkt1TjbNVRGT2ry_iriy0ktkJ3UY7pkZEYfhQaonnbESudaFefclvVJsOOIaYRJWXXa_YlqdDfTU8Hk) — businesses and creators — to use your app to manage their presence on Instagram. The API can be used to:

- **Comment moderation** – Manage and reply to comments on their media
- **Content publishing** – Get and publish their media
- **Media Insights** - Get insights on their media
- **Mentions** – Identify media where they have been @mentioned by other Instagram users
- **Messaging** – Send and receive messages with customers or people interested in their Instagram account

**Note:** This API setup does not require a Facebook Page to be linked to the Instagram professional account.

To ensure consistency between scope values and permission names, we are introducing new `scope` values for the Instagram API with Instagram login. The new `scope` values are:

- `instagram_business_basic`
- `instagram_business_content_publish`
- `instagram_business_manage_messages`
- `instagram_business_manage_comments`

These will replace the existing `business_basic`, `business_content_publish`, `business_manage_comments` and `business_manage_messages` `scope` values, respectively.

Please note that the old scope values will be deprecated on **January 27, 2025**. It is essential to update your code before this date to avoid any disruption in your app's functionality. Failure to do so will result in your app being unable to call the Instagram endpoints.

## Limitations

- This API setup cannot access ads or tagging.

## Next Steps

Next, read the [Overview](https://developers.facebook.com/docs/instagram/platform/instagram-api/overview) to learn about the core concepts, components, and usage requirements for this API.

## See Also

- [Instagram API with Facebook Login](https://developers.facebook.com/docs/instagram-api-with-facebook-login)
- [Instagram Messaging with Messenger Platform](https://developers.facebook.com/docs/messenger-platform/instagram)
- [Instagram professional accounts](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F502981923235522&amp;h=AT1ZLLwtn13hBdKUA9l4yq8TgM0nn_DlteGwXqXikobu1zVvKEpXoBKyfaM1P-wUHd1pJTQeobmrzNBwA1ypF88nKoexov2HInjjPvs59NvwhGsI8ViBtSflxPG89GUDGNWpyTSg2l5AMvxuyVXThawh3hWgjnVmGp8kzx-7ao4)



## Page: https://developers.facebook.com/docs/instagram-platform/instagram-api-with-facebook-login

# API de Instagram con inicio de sesión con Facebook

La API de Instagram con inicio de sesión con Facebook permite a los [profesionales de Instagram](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F502981923235522&amp;h=AT2TKTM9mZaVydx9OJssLA3Y94bob-Pgv0JgC7avUen4_9HS7cEJqwsvO9F1IUD_TqvB_wJ2sT_rxqXUTwquPWCTr3qNQrjHjlVrqVi8T_PN2zT-i_Hdmgd3BM6aecavqd-7YA5lg9H7UtzgMuqSss8LCBufvxZlX2SgOyX5lk0) (empresas y creadores) utilizar tu app para administrar su presencia en Instagram. Estos profesionales pueden usar la API para obtener y publicar su contenido multimedia, administrar y responder comentarios referidos a ese contenido, identificar contenido multimedia en el que otros usuarios de Instagram los hayan @mencionado, buscar contenido multimedia con hashtags, y obtener metadatos y métricas básicos sobre otros creadores y empresas de Instagram.

## Usos comunes

- [Obtener](https://developers.facebook.com/docs/instagram-api/reference/ig-user/media#get-media) y [administrar](https://developers.facebook.com/docs/instagram-api/reference/ig-media) fotos, historias y videos publicados.
- [Obtener datos básicos sobre otras cuentas de usuarios y creadores de Instagram para empresas](https://developers.facebook.com/docs/instagram-api/guides/business-discovery).
- [Moderar los comentarios y sus respuestas](https://developers.facebook.com/docs/instagram-api/guides/comment-moderation).
- [Medir la interacción con el perfil y el contenido multimedia](https://developers.facebook.com/docs/instagram-api/guides/insights).
- [Descubrir contenido multimedia con hashtags](https://developers.facebook.com/docs/instagram-api/guides/hashtag-search).
- [Descubrir @menciones](https://developers.facebook.com/docs/instagram-api/guides/mentions).
- [Publicación de contenido](https://developers.facebook.com/docs/instagram-api/guides/content-publishing).

## Limitaciones

- La API de Instagram con inicio de sesión con Facebook no puede acceder a las cuentas de consumidores de Instagram (es decir, las cuentas de Instagram que no sean de creadores ni para empresas).
- La [publicación de contenido](https://developers.facebook.com/docs/instagram-api/guides/content-publishing) está disponible en todas las cuentas profesionales de Instagram, excepto las Historias, que solo están disponibles para cuentas de empresa.
- No es posible [ordenar los resultados](https://developers.facebook.com/docs/graph-api/using-graph-api#ordering).
- Todos los puntos de conexión admiten la [paginación](https://developers.facebook.com/docs/graph-api/using-graph-api#paging) basada en cursor, pero el perímetro de [estadísticas de los usuarios](https://developers.facebook.com/docs/instagram-api/reference/ig-user/insights) es el único punto de conexión que admite la paginación basada en el tiempo.

## Próximos pasos

A continuación, consulta [Información general](https://developers.facebook.com/docs/instagram-platform/overview) para conocer los conceptos básicos, componentes y requisitos de uso de la API de Instagram.

## Consulta también:

- [API Graph de Facebook](https://developers.facebook.com/docs/graph-api/)
- [Cuentas profesionales de Instagram](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F502981923235522&amp;h=AT3W9ZATZ5ez0t0tJGPY-7LJgg2GtyR9fDEhJ_KlbZkVvtRSgmFKICUQgFvYF3QTJNSk1USEM_FIIKlXbFOeA9lirdf9_Sdnus5dr9J_JPQxKOc3YAfrfz9uZDy2_CHZnNw--r2s8Pqm3EJK4DuCl0qIOBD19e8R-yXp_lb23sE)
- [Configurar una cuenta profesional en Instagram](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F502981923235522&amp;h=AT2aki23ZjhYE41QL0_O4lpxgYYXS99l1zQH3VXidfiXheFeCcQv6Yx4RIRkCUC_ZTe-7VBYW8-ihMSck-Y5Hr6vsNgLRd_Sum6FMoLQspXPpbcNbVedZazKj10DQ_mdwtmhU2nrfkSJJB4nVZ84kJLolnnyHSkpibIEMA4uSSY)
- [Mensajes de Instagram con la plataforma de Messenger](https://developers.facebook.com/docs/messenger-platform/instagram)



## Page: https://developers.facebook.com/docs/instagram-platform/app-review

# App Review for Instagram API

Your app must complete App Review before it can request permissions with Advanced Access from any app user and features with Advanced Access are active for all app users.

## Development scenarios

The following table contains the possible development scenarios and the corresponding App Review requirements.

| Development scenario | Login type | Access level | App Review |
|----------------------|------------|--------------|------------|
| My app is only for a business I own or manage. | No login or Instagram Login | Standard Access | Not required |
| My app is only for a business I own or manage. | No login or Facebook Login | Standard Access | Not required |
| I am a Tech Provider and my app serves multiple businesses. | Instagram Login | Advanced Access | **Required** |
| I am a Tech Provider and my app serves multiple businesses. | Facebook Login | Advanced Access | **Required** |

## Available permissions & features

The permissions and features you can request Advanced Access for are dependent on the login type.

Your app can either use Facebook Login or Instagram Login but not both.

### Instagram API with Facebook Login

- Human Agent
- `ads_management`
- `business_management`
- `catalog_management`
- `instagram_basic`
- `instagram_content_publishing`
- `instagram_manage_comments`
- `instagram_manage_events`
- `instagram_manage_insights`
- `instagram_manage_messages`
- `instagram_shopping_tag_products`
- `pages_read_engagement`
- `pages_show_list`

### Instagram API with Instagram Login

- Human Agent
- `instagram_business_basic`
- `instagram_business_content_publishing`
- `instagram_business_manage_comments`
- `instagram_business_manage_messages`

### Migrated apps

If you are migrating your app to Instagram API with Instagram Login from Instagram API with Facebook Login, your app might automatically be granted Advanced Access for the corresponding Instagram API permission and App Review isn't required.

If your app is not automatically granted Advanced Access, then you will need to submit for App Review.

| Instagram API with Facebook Login | Instagram API with Instagram Login |
|-----------------------------------|------------------------------------|
| `instagram_basic`                 | `instagram_business_basic`         |
| `instagram_content_publishing`    | `instagram_business_content_publishing` |
| `instagram_manage_comments`        | `instagram_business_manage_comments` |
| `instagram_manage_messages`        | `instagram_business_manage_messages` |

If you need to submit for App Review you must follow the instructions in the [Start a submission](#start-a-submission) section below. The submission flow in the App Dashboard has changed.

## Start a submission

To submit for App Review, go to the App Dashboard.

1. In the left-side menu under **Products**, go to **Instagram > API setup with Instagram login**.
2. Click the chevron in the upper right corner of the **Complete app review** section.
3. Review the permissions and features you are requesting Advanced Access for and click **Continue to app review**. You'll be redirected to **App Review > Requests** in the dashboard.
4. Click the **Edit** button to trigger the review flow.

## Request for App Review

You will see a list of action items that are required. These include the following:

- Confirm that your app can be loaded and tested externally.
- Verify that the login button or link is visible in your app and screencast, and adheres to our brand guidelines.
- Provide clear use case details and describe step-by-step how a person uses your app. Tell us how your use of each permission you have requested follows established usage guidelines.
- To request Advanced Access to certain permissions, you need to make at least 1 successful API call.

### Complete App Settings

Add or update your app's settings.

Click the **Review your app settings** to add or update the following:

1. App icon (1024x1024) – The icon for your app.
2. Privacy Policy URL – The privacy policy URL that your app users can visit to view your privacy policy.
3. App Category – The app category that best represents your app's functionality.
4. Business Email – The email, set in your Developer Settings, where App Review results and developer alert emails are sent.

### Complete App Verification

Provide detailed instructions for Meta app reviewers to log in and test your app.

Click **Provide verification details** to provide detailed step-by-step instructions, for each platform on which your app is available, for Meta app reviewers so they can log in to your app to test your integration and how you are using each permission and feature.

1. **Platform Settings**
   - Provide **detailed step-by-step instructions for Meta reviewers to log in and test your app** on each platform, Android, iOS, Web, and so on, on which your app is available. Be specific about when and how your app uses each permission and feature and how a reviewer can test each usage.
   
2. **Credentials (If applicable)**
   - If needed, provide any required test credentials for Meta reviewers to log into your app or website.

**NOTE:** Web or mobile Web is the only platform that currently supports Instagram API with Instagram Login.

![Verification Example](https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/453385011_853085869681207_5149396634646446049_n.png?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=otSjwLMn4ZgQ7kNvwGR8Kku&_nc_oc=AdmCZRc5KHK70-1Odi2_XTs5aD-p5O_cpe_qLY3gCkcCnZ7q65q55_NZvM4hhWFR4ycWEoWLbV9lIIiZIxkLJF9c&nc_ht=scontent.fsti4-2.fna&oh=00_AfgAPoYVFJ1SpA56H1d5qJSizcqOTWxSCRqQQBy-cO0M5A&oe=692F4686)

### Permission & feature requests

Provide a description for how your app uses a specific permission and include a screencast showing this usage.

Click the arrow icon to the right of each **How will your app use** question for each permission or feature that you have requested. You will be asked to:

- Describe how your app uses that specific permission or feature.
- Upload a screencast showing the end-to-end user experience for that specific permission or feature. The screencast only needs to showcase how your app is using that permission or feature.
- Agree that you will comply with the allowed usage for that permission or feature.
- If a permission or feature is dependent on another permission, you must include this permission in your submission.

If you request permissions or features that your app does not use or does not align with the allowed usage for that permission or feature, your submission will not be approved.

![Permission Example](https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/453238879_501155255607182_3048020962529192094_n.png?_nc_cat=107&ccb=1-7&_nc_sid=e280be&_nc_ohc=qqlVYk5JjywQ7kNvwH0BNko&_nc_oc=AdkuzEWG489ux5wl4R49Lnv1FS6ylY_4DAM7wTuh7cXif_egrjtL39YZhePEYHY8T9bQTzTSXSdzxPbSmvTBPNTh&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=VgBsOHHEc2CMtiwgSkNbHg&oh=00_Afj0I39wxtslpto_XgPmJUi_UbHQi4XM8jmqOCWvCe3ziQ&oe=692F375A)

### Screencast guidance

Para asegurarte de que tu captura de video esté disponible para todos nuestros revisores, sigue estos pasos:

- **Selecciona inglés como el idioma de la UI de la app**: si es posible, configura el idioma de la UI de la app en inglés antes de grabar la captura de video. De esta manera, será más fácil para el equipo de revisión entender el contenido de tu app.
- **Proporciona subtítulos y consejos de herramientas**: si tu app no está disponible en inglés, o si alguna parte no es fácil de entender, proporciona subtítulos y consejos de herramientas para explicar lo que está pasando en la pantalla. Esto ayudará al equipo de revisión a entender lo que estás mostrando y cómo funciona la app.
- **Explica el significado de los botones y otros elementos de la UI**: tómate el tiempo para explicar el significado de los botones u otros elementos de la UI que no resulten obvios. De esta manera, el equipo de revisión podrá entender cómo usar la app y lo que hace cada botón.

### Completed items

When an item is complete, the circle with a check mark will be filled in.

![Completed Items Example](https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/453405956_2251768315215785_5370163649097362503_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=Zqy7uqYBKCEQ7kNvwEyPfQr&_nc_oc=Adn95IRW8uqvxBJ6DKqxXNKkfKMipkoJqlpbrmNNHqjKe0xO94GE3Dt2_tVENEV_COB8RmgjJmcQPPp0Rs_0anyJ&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=VgBsOHHEc2CMtiwgSkNbHg&oh=00_Afis9nJh67YzuDk0huhmEQVXTZwUoPob1JHPU03AOMZjyw&oe=692F3476)

## See Also

See the following documents to learn more about Meta App Review:

- [Access Levels](https://developers.facebook.com/docs/graph-api/overview/access-levels)
- [App Development with Meta](https://developers.facebook.com/docs/development)
- [Best Practices for Meta App Review](https://developers.facebook.com/docs/resp-plat-initiatives/app-review/before-you-submit)
- [Common Mistakes of App Review submissions](https://developers.facebook.com/docs/app-review/submission-guide/common-mistakes)
- [Meta App Review](https://developers.facebook.com/docs/resp-plat-initiatives/app-review)
- [Sample Submissions](https://developers.facebook.com/docs/app-review/submission-guide/screen-recordings)



## Page: https://developers.facebook.com/docs/instagram-platform/sharing-to-feed

# Contenido compartido en el Feed

Compartir en la sección de noticias permite a los usuarios de tu app que compartan tu contenido en la sección de noticias de Instagram.

![Imagen de ejemplo](https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/31739640_2065459473743293_5455162868888502272_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=VF1-fXHwFP8Q7kNvwFvkNnC&_nc_oc=Adl0ZAGGKQhoLxPPtUeBnYywaJPJre4UkxeLU9IQUZVj6-3UKeQ36byCXdK-C9SxTEK56GjJ3lAzBOAYrb8vJSjf&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=4gT9o0c_gJ2ZCfx73Wp21w&oh=00_AfhZSCgj3kaGj-LKAliBXcCdi6eqFJrCpOW_TqeIUqiJbg&oe=692F370F)

## Información general

Mediante las **intenciones implícitas** de Android y los **enlaces universales** de iOS o la **interacción con documentos**, tu app puede pasar fotos y videos a la app de Instagram. La app de Instagram recibirá este contenido y lo cargará en el editor de feeds para que el usuario pueda publicarlo en su feed de Instagram.

## Desarrolladores para Android

Las implementaciones de Android utilizan intents implícitas con el EXTRA_STREAM adicional para solicitar al usuario que seleccione la aplicación de Instagram. Una vez seleccionada, la intent iniciará la app de Instagram y le pasará tu contenido, que la app de Instagram cargará en el Feed Composer.

En general, los pasos del flujo para compartir son los siguientes:

1. Crear una instancia de un intent implícito con el contenido que quieres pasar a la app de Instagram.
2. Iniciar una actividad y comprobar que puede resolver el intent implícito.
3. Resolver la actividad si tiene la capacidad para hacerlo.

### Contenido para compartir

Puedes pasar el siguiente contenido a la app de Instagram:

| Contenido          | Tipos de archivos         | Descripción                                                                 |
|--------------------|---------------------------|-----------------------------------------------------------------------------|
| Activo de imagen    | JPEG, GIF o PNG          | -                                                                           |
| Activo de archivos   | MKV, MP4                 | Duración mínima: Duración máxima de 3 segundos: Dimensiones mínimas de 10 minutos: 6040 x 640 píxeles |

### Compartir un activo de imagen

```java
String type = "image/*";
String filename = "/myPhoto.jpg";
String mediaPath = Environment.getExternalStorageDirectory() + filename;

createInstagramIntent(type, mediaPath);

private void createInstagramIntent(String type, String mediaPath) {
    // Create the new Intent using the 'Send' action.
    Intent share = new Intent(Intent.ACTION_SEND);
    
    // Set the MIME type
    share.setType(type);
    
    // Create the URI from the media
    File media = new File(mediaPath);
    Uri uri = Uri.fromFile(media);
    
    // Add the URI to the Intent.
    share.putExtra(Intent.EXTRA_STREAM, uri);
    
    // Broadcast the Intent.
    startActivity(Intent.createChooser(share, "Share to"));
}
```

### Compartir un activo de video

```java
String type = "video/*";
String filename = "/myVideo.mp4";
String mediaPath = Environment.getExternalStorageDirectory() + filename;

createInstagramIntent(type, mediaPath);

private void createInstagramIntent(String type, String mediaPath) {
    // Create the new Intent using the 'Send' action.
    Intent share = new Intent(Intent.ACTION_SEND);
    
    // Set the MIME type
    share.setType(type);
    
    // Create the URI from the media
    File media = new File(mediaPath);
    Uri uri = Uri.fromFile(media);
    
    // Add the URI to the Intent.
    share.putExtra(Intent.EXTRA_STREAM, uri);
    
    // Broadcast the Intent.
    startActivity(Intent.createChooser(share, "Share to"));
}
```

## Desarrolladores para iOS

Las implementaciones de iOS pueden usar enlaces universales para iniciar la app de Instagram y pasarle contenido o hacer que realice una acción específica.

### Enlaces universales

Usa los [enlaces universales](https://l.facebook.com/l.php?u=https%3A%2F%2Fdeveloper.apple.com%2Fdocumentation%2Fxcode%2Fallowing-apps-and-websites-to-link-to-your-content&h=AT0c5p2X8Z7k3n18T5oNUhNtFFD-6sZNCK56vaGzW08hkgU9K2EBBF-po-2g1ontHHdymZkSAaswayiU4yal8ZTwZhu0VlLQWOVKP6HzahYRvD0calM5CKhDnLHRBNI220etSZFy1ScF0WozPjCXV0VRtfRVf24zEY489rJ-DIOSfdZbu3Gb3hXp) que figuran en la siguiente tabla para realizar acciones en la app de Instagram.

| Enlace universal                                      | Acción                                                                                       |
|------------------------------------------------------|----------------------------------------------------------------------------------------------|
| https://www.instagram.com                             | Inicia la app de Instagram.                                                                  |
| https://www.instagram.com/create/story               | Inicia la app de Instagram con la vista de cámara o la biblioteca en dispositivos sin cámara.|
| https://www.instagram.com/p/{media_id}               | Inicia la app de Instagram y carga la publicación que coincide con el valor de identificación especificado (`int`). |
| https://www.instagram.com/{username}                  | Inicia la app de Instagram y carga el usuario de Instagram que coincide con el valor de nombre de usuario especificado (`string`). |
| https://www.instagram.com/explore/locations/{location_id} | Inicia la app de Instagram y carga el feed de ubicación que coincide con el valor de identificación especificado (`int`). |
| https://www.instagram.com/explore/tags/{tag_name}   | Inicia la app de Instagram y carga la página del hashtag que coincide con el valor del nombre especificado (`string`). |

### Ejemplo de código Objective-C

El siguiente ejemplo en Objective-C inicia la app de Instagram con la vista de la cámara.

```objective-c
NSURL *instagramURL = [NSURL URLWithString:@"https://www.instagram.com/create/story"];
if ([[UIApplication sharedApplication] canOpenURL:instagramURL]) {
    [[UIApplication sharedApplication] openURL:instagramURL];
}
```

### Interacción con documentos

Si tu aplicación crea fotos y quieres que los usuarios compartan estas fotos mediante Instagram, puedes usar la [API de interacción con documentos](https://l.facebook.com/l.php?u=https%3A%2F%2Fdeveloper.apple.com%2Flibrary%2Fcontent%2Fdocumentation%2FFileManagement%2FConceptual%2FDocumentInteraction_TopicsForIOS%2FIntroduction%2FIntroduction.html&h=AT0oy9CqY_3ILPDtQoZads_-WMhgmpJvRL78ds1ZXkQ9nmFJgEvGuo91zq4DP18oNar6wS0dghmZiUgS1YJmrRpKGc6ytXeeFsNQF8kwuAulMoFuP59l5on54WCgpm1btzui6qIKbaOGIhhWPqDle-ucncZDGJuvyuMnp7WlgFE) para abrir la foto en el flujo de uso compartido de Instagram.

Primero, debes guardar el archivo en formato PNG o JPEG (preferido) y usar la extensión de nombre de archivo `.ig`. Con las API de interacción con documentos de iOS, puedes activar la foto para que Instagram la abra. El identificador de nuestra UTI de interacción con documentos es `com.instagram.photo` y se ajusta a las UTI *public/jpeg* y *public/png*. Para obtener más información, consulta los artículos de documentación de Apple sobre: [cómo realizar vistas previas y abrir archivos](https://l.facebook.com/l.php?u=https%3A%2F%2Fdeveloper.apple.com%2Flibrary%2Fcontent%2Fdocumentation%2FFileManagement%2FConceptual%2FDocumentInteraction_TopicsForIOS%2FArticles%2FPreviewingandOpeningItems.html%23%2F%2Fapple_ref%2Fdoc%2Fuid%2FTP40010410-SW1&h=AT05Z6u1BJpu1WJ46aVO4nXDddMbQgDtfCjLAG_abKs-NU5RhVLBJyD0Pz3Pndvrqe9ZQ5EVYpPHn1ZQ31IX5t_6EKeeQbraC7yoEzSt2wYH-oDevNGmqdG6eDLLNX7TUMOsXritQ8v7f6cA0h-0HC7uPY1nb7XzFIVr7Nc3TTo) y la [referencia de clase UIDocumentInteractionController](https://l.facebook.com/l.php?u=https%3A%2F%2Fdeveloper.apple.com%2Flibrary%2Fcontent%2F%23documentation%2FUIKit%2FReference%2FUIDocumentInteractionController_class%2FReference%2FReference.html&h=AT1QLEnzyja0_n9rX_jkaIb34dK1LM1j_uGN5L0wiDDyywIh8YzS6E1hphXT-Q_gdrnlc66N_Wiy1eRwDgpIV9QAeMQGYbh9sBUYIj56wsXcK2PD8eurLX-opd21YWvf68DeS4pZYFdlBXZZKsDPbituOxCnYesCwq3lFz1mEFE).

Como alternativa, si deseas mostrar **solo** Instagram en la lista de apps (en lugar de Instagram y otras apps que se ajusten a *public/jpeg*), puedes especificar la clase de extensión `igo`, que es del tipo `com.instagram.exclusivegram`.

Cuando está activada, Instagram presenta de inmediato al usuario nuestra pantalla de filtro. La imagen se carga previamente y se dimensiona de forma adecuada para Instagram. Para obtener mejores resultados, Instagram prefiere abrir una imagen JPEG de 640 por 640 píxeles. Si la imagen es más grande, se redimensiona dinámicamente.



## Page: https://developers.facebook.com/docs/instagram-platform/embed-button

# Botón Insertar

Puedes obtener el código HTML de una publicación pública con una foto, un video, un reel o un reel de Instagram y usarlo para insertar la publicación en otros sitios web. Las publicaciones insertadas ajustan su tamaño automáticamente al contenedor, por lo que se verán muy bien en sitios web tanto en dispositivos móviles como en computadoras.

<div style="text-align:center;margin-bottom:20px">
  <img class="_254 img" src="https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/89824380_234684177669792_3559805517834485760_n.png?_nc_cat=105&ccb=1-7&_nc_sid=e280be&_nc_ohc=jR7sg07kJvQQ7kNvwEt2Tzu&_nc_oc=Adnqjem8C_G4jAxMYXWcLYOjStuvSmNcQPhIo8qDA6s9R-YGvjQfKaBJksWpMWg4xYo_pqti_OiPqRnM9btzNxqj&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=_osdXRgDwUhasaglXN9XmQ&oh=00_AfgfOuRhtW0Rf-WbB6mf1sKWWWzq46y-PTmwry8l3qzCCg&oe=692F32FF" width="609" alt="">
</div>

Las personas son propietarias de su contenido de Instagram, por lo que se muestra el nombre de usuario y un enlace al perfil del propietario de la publicación a fin de cumplir con la atribución correspondiente.

Para obtener el código de inserción de HTML de una publicación con el botón **Insertar**, visualiza la publicación en un navegador de escritorio o de web móvil, haz clic en el menú **[...]**...

<div style="text-align:center;margin-bottom:20px">
  <img class="_254 img" src="https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/89738865_133859414730000_8450155087510110208_n.png?_nc_cat=102&ccb=1-7&_nc_sid=e280be&_nc_ohc=rE-liwYwNN4Q7kNvwF0tBII&_nc_oc=AdmLYZTHKaAlwlwGISGoepXU-ZNWLOfQHdUi_Y8SXtZUit7MDjIDXthqKqQ1fQEXfhJCUMXs-pTj3qyBUbWzGyh0&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=_osdXRgDwUhasaglXN9XmQ&oh=00_AfjhJRl0m83ELTT_N_IJqGD8uAU-k32tslZOPcaSOJjigg&oe=692F3F67" width="609" alt="">
</div>

... luego, haz clic en el botón **Insertar**:

<div style="text-align:center;margin-bottom:20px">
  <img class="_254 img" src="https://scontent.fsti4-1.fna.fbcdn.net/v/t39.2365-6/89722283_616218892556786_5027045768683323392_n.png?_nc_cat=109&ccb=1-7&_nc_sid=e280be&_nc_ohc=fe63XLrsARIQ7kNvwH30D_r&_nc_oc=AdmpiX0pzkbq8cpKJCdJ-bm1m7CZg2KtI-i1mgyktbh6Bm96kcixVod2G1KX8Xc25gxmquw9-cVmR2mH7tK76T-c&_nc_zt=14&_nc_ht=scontent.fsti4-1.fna&_nc_gid=_osdXRgDwUhasaglXN9XmQ&oh=00_AfiI8GfyBIC1dJKhZrXzedFPUKYBp2ZT-3tWZcnM4F3gLA&oe=692F429C" width="459" alt="">
</div>

Se mostrará el código de inserción de HTML de la publicación, que puedes copiar y pegar en el sitio web donde quieres que aparezca la publicación.

<div style="text-align:center;margin-bottom:20px">
  <img class="_254 img" src="https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/89731764_695269624611829_7513410501070553088_n.png?_nc_cat=101&ccb=1-7&_nc_sid=e280be&_nc_ohc=7ubhgbyXCEYQ7kNvwGOMad-&_nc_oc=AdnesEBdgLFaPoRHAbi80hoYk2LRtqLy45born-VXoM7MlBikLuGvXR-9kRC9XfeW_gBJ0GHHAQez3xjHjy3AYNb&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=_osdXRgDwUhasaglXN9XmQ&oh=00_AfjNp2oGcZqcBE4mtx21oTVic4EB3jpu67hmHBK3C5nHVw&oe=692F30DE" width="459" alt="">
</div>

De manera predeterminada, la publicación incluirá el texto, pero puedes desmarcar la casilla **Incluir texto** para omitirlo.



## Page: https://developers.facebook.com/docs/instagram-platform

# Plataforma de Instagram

La plataforma de Instagram from Meta proporciona herramientas para ayudar al usuario de tu app a interactuar con los usuarios de Instagram.

|  |  |
|---|---|
| ![Instagram Logo](https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/294212088_1185619815505127_6226283026498321571_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=y0wlir3eR-MQ7kNvwH8CuDt&_nc_oc=AdlXO9GQePsl4x_zzt3WeYZIJTYeMXyia0bb-7na4Dg2Ia9VP-_hdaMOvmkK28Ml-R7wR3srrlGgs3j-KppgTOMn&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=r655KT5FWQItAAfQPAKXSA&oh=00_AfgW0rsNPXoXTWT1oMPR-yTAJ205725AIiWkBfHhi7qnAg&oe=692F2E14) | **API de Instagram con inicio de sesión de negocios para Instagram** |

La [API de Instagram con inicio de sesión con Instagram](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login) permite que los usuarios de tu app accedan a los datos de sus cuentas de [Instagram para empresas](https://l.facebook.com/l.php?u=https%3A%2F%2Fbusiness.instagram.com%2F&h=AT3RnxO4MJJefZKmvFy5HBGGBGVMK_627d6L4HGmtraaL7n9aGXmu-u_2KjZn_Z6nkQstaGbJzkY2oG-TDwNkknLN4zU2P3s9tzFdrVkjKmPw1EoNJuXM7_-o-AgUNU8k-mbd2uVT-B8wragGgQKBasJee9Apt4nWI5AHzXs_AY) y de [creadores de Instagram](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F2358103564437429&h=AT1rnK3GlYIfvw7jjm9AsGVcxA_wl8Nm8dCqTM34w6GN8tKaqP7scnRFhMPGr9xpgxAvbS-UWbsUTSaxgu6yQv3GK5CMrp_vfBKpeYWqXhsfMgK0n8BxsuYMTnVI_Zi1POiJBJ8OXhBZcl9pAqlPXKEK1QT6ja8zjnqMyeNnh2k). Esta API permite que tu app intercambie mensajes de negocios y de creadores con usuarios de Instagram interesados en sus negocios o su contenido multimedia. Además, permite obtener y publicar el contenido multimedia de estos, administrar y responder comentarios sobre su contenido multimedia, e identificar contenido multimedia donde otros usuarios de Instagram los @mencionaron. **_Se requiere una cuenta de Instagram de empresa o creador._**

|  |  |
|---|---|
| ![Instagram Logo](https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/294212088_1185619815505127_6226283026498321571_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=y0wlir3eR-MQ7kNvwH8CuDt&_nc_oc=AdlXO9GQePsl4x_zzt3WeYZIJTYeMXyia0bb-7na4Dg2Ia9VP-_hdaMOvmkK28Ml-R7wR3srrlGgs3j-KppgTOMn&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=r655KT5FWQItAAfQPAKXSA&oh=00_AfgW0rsNPXoXTWT1oMPR-yTAJ205725AIiWkBfHhi7qnAg&oe=692F2E14) | **API de Instagram con inicio de sesión de negocios para Facebook** |

La [API de Instagram con inicio de sesión con Facebook de negocios](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-facebook-login) permite que los usuarios de tu app accedan a los datos de sus cuentas de [Instagram para empresas](https://l.facebook.com/l.php?u=https%3A%2F%2Fbusiness.instagram.com%2F&h=AT0VR8d-aSp151M1cIj9kv0t2dBarFJNRaMugG3kOR742s4mw3lXkj6UJy_8dq24pk2SjCm2beNBc1zhU9F1JBVOokvm7Zj3DSRUQ4ghmhZHYdZuujxEiCQj8KryCHzkyjkpqpCPqWCxqgVeWm9_sbkhT7yVVGRJt7PbADPKkKc) y de [creadores de Instagram](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F2358103564437429&h=AT3aURnRBzEIEAyyO5EYEugLhqgOJjSq1PhyeY4RPdLN3Sqxm3lQw5My7zom_bM-q1TjKB8DSp1TrWLBZOSR045pIVk3KngSnDvUZfzGYvuvAJgp5YzQEvch8uXXVEr5HiAR_teC24lmfgT4esvaRKb7d8oepMCgcvMvAK-Mg5Y). Estos profesionales pueden usar la API para obtener y publicar su contenido multimedia, administrar y responder comentarios referidos a ese contenido, identificar contenido multimedia en el que otros usuarios de Instagram los hayan @mencionado, buscar contenido multimedia con hashtags, y obtener métricas y metadatos básicos sobre otros creadores y negocios de Instagram. **_Se requiere una cuenta de Instagram para empresas o de creador vinculada con una página de Facebook._**

|  |  |
|---|---|
| ![Instagram Logo](https://scontent.fsti4-2.fna.fbcdn.net/v/t39.2365-6/294212088_1185619815505127_6226283026498321571_n.png?_nc_cat=104&ccb=1-7&_nc_sid=e280be&_nc_ohc=y0wlir3eR-MQ7kNvwH8CuDt&_nc_oc=AdlXO9GQePsl4x_zzt3WeYZIJTYeMXyia0bb-7na4Dg2Ia9VP-_hdaMOvmkK28Ml-R7wR3srrlGgs3j-KppgTOMn&_nc_zt=14&_nc_ht=scontent.fsti4-2.fna&_nc_gid=r655KT5FWQItAAfQPAKXSA&oh=00_AfgW0rsNPXoXTWT1oMPR-yTAJ205725AIiWkBfHhi7qnAg&oe=692F2E14) | **API de mensajes de Instagram a través de la API de Messenger** |

[La compatibilidad de la API de Messenger con Instagram](https://developers.facebook.com/docs/messenger-platform/instagram) (que también se conoce en nuestras Políticas para desarrolladores como "API de mensajes de Instagram") permite que las cuentas profesionales usen tu app para administrar los mensajes de Instagram y de la página de Facebook desde una sola plataforma. Se puede utilizar la API para enviar y recibir mensajes de usuarios de Instagram y Facebook. **_Se requiere una cuenta de Instagram para empresas o de creador vinculada con una página de Facebook._**

### Compartir en historias

Con la opción [Compartir en historias](https://developers.facebook.com/docs/instagram/sharing-to-stories), los usuarios de tu app pueden compartir su contenido como historias de Instagram.

### Compartir en el feed

Con la opción [Compartir en el feed](https://developers.facebook.com/docs/instagram/sharing-to-feed), los usuarios de tu app pueden compartir su contenido en el feed de Instagram.

### Inserción

[Inserta](https://developers.facebook.com/docs/instagram/embedding) publicaciones con foto y con video de Instagram en tus sitios web.



## Page: https://developers.facebook.com/docs/instagram-platform/comment-moderation

```markdown
# Comment Moderation

This guide shows you how to get comments, reply to comments, delete comments, hide/unhide comments, and disable/enable comments on Instagram Media owned by your app users using the Instagram Platform.

In this guide we will be using **Instagram user** and **Instagram professional account** interchangeably. An Instagram User object represents your app user's Instagram professional account.

## Requirements

This guide assumes you have read the [Instagram Platform Overview](https://developers.facebook.com/docs/instagram-platform/overview) and implemented the needed components for using this API, such as a Meta login flow and a webhooks server to receive notifications.

You will need the following:

| | Instagram API with Instagram Login | Instagram API with Facebook Login |
|---|---|---|
| **Access Tokens** | - Instagram User access token | - [Facebook Page access token](https://developers.facebook.com/docs/facebook-login/access-tokens) |
| **Host URL** | `graph.instagram.com` | `graph.facebook.com` |
| **Login Type** | Business Login for Instagram | Facebook Login for Business |
| **[Permissions](https://developers.facebook.com/docs/permissions/reference#i)** | - `instagram_business_basic`<br>- `instagram_business_manage_comments` | - `instagram_basic`<br>- `instagram_manage_comments`<br>- `pages_read_engagement`<br>If the app user was granted a role on the [Page](https://developers.facebook.com/docs/instagram-api/overview#pages) connected to your app user's Instagram professional account via the Business Manager, your app will also need:<br>- `ads_management`<br>- `ads_read` |
| **Webhooks** | - `comments`<br>- `live_comments` | - `comments`<br>- `live_comments` |

### Access Level

- Advanced Access if your app serves Instagram professional accounts you don't own or manage
- Standard Access if your app serves Instagram professional accounts you own or manage and have added to your app in the App Dashboard

### Endpoints

- [`GET /<IG_MEDIA_ID>/comments`](https://developers.facebook.com/docs/instagram-api/reference/ig-media/comments#reading) — Get comments on an IG Media
- [`GET /<IG_COMMENT_ID>/replies`](https://developers.facebook.com/docs/instagram-api/reference/ig-comment/replies#read) — Get replies on an IG Comment
- [`POST /<IG_COMMENT_ID>/replies`](https://developers.facebook.com/docs/instagram-api/reference/ig-comment/replies#create) — Reply to an IG Comment
- [`POST /<IG_COMMENT_ID>`](https://developers.facebook.com/docs/instagram-api/reference/ig-comment#update) — Hide/unhide an IG Comment
- [`POST /<IG_MEDIA_ID>`](https://developers.facebook.com/docs/instagram-api/reference/ig-media#update) — Disable/enable comments on an IG Media
- [`DELETE /<IG_COMMENT_ID>`](https://developers.facebook.com/docs/instagram-api/reference/ig-comment#delete) — Delete an IG Comment

## Get comments

There are two ways to get comments on published Instagram media, an API query or a webhook notification. We strongly recommend using webhooks to prevent rate limiting.

### API Request

To get all the comments on a published Instagram media object, send a `GET` request to the `/&lt;IG_MEDIA_ID&gt;/comments` endpoint.

```bash
curl -X GET "https://<HOST_URL>/v24.0/<IG_MEDIA_ID>/comments"
```

On success your app receives a JSON response with an array of objects containing the comment ID, the comment text, and the time the comment was published.

```json
{
  "data": [
    {
      "timestamp": "2017-08-31T19:16:02+0000",
      "text": "This is awesome!",
      "id": "17870913679156914"
    },
    {
      "timestamp": "2017-08-31T19:16:02+0000",
      "text": "Amazing!",
      "id": "17870913679156914"
    }
  ]
}
```

### Webhooks

When the `comments` or `live_comments` event is triggered your webhooks server receives a notification that includes the ID for your app user's published media, and the ID for the comments on that media, and the Instagram-scoped ID for the person who published the comment.

**Note:** When hosting an Instagram Live story, make sure your server can handle the increased load of notifications triggered by `live_comments` webhooks events and that your system can differentiate between `live_comments` and `comments` notifications.

#### Facebook Login for Business

The following payload is returned for apps that have implemented Facebook Login for Business.

```json
[
  {
    "object": "instagram",
    "entry": [
      {
        "id": "<YOUR_APP_USERS_INSTAGRAM_ACCOUNT_ID>",      // ID of your app user's Instagram professional account
        "time": <TIME_META_SENT_THIS_NOTIFICATION>,          // Time Meta sent the notification
        "changes": [
          {
            "field": "comments",
            "value": {
              "from": {
                "id": "<INSTAGRAM_USER_SCOPED_ID>",         // Instagram-scoped ID of the Instagram user who made the comment
                "username": "<INSTAGRAM_USER_USERNAME>"     // Username of the Instagram user who made the comment
              },
              "comment_id": "<COMMENT_ID>",                 // Comment ID of the comment with the mention
              "parent_id": "<PARENT_COMMENT_ID>",           // Parent comment ID, included if the comment was made on a comment
              "text": "<TEXT_ID>",                          // Comment text, included if comment included text
              "media": {                                       
                "id": "<MEDIA_ID>",                             // Media's ID that was commented on
                "ad_id": "<AD_ID>",                             // Ad's ID, included if the comment was on an ad post
                "ad_title": "<AD_TITLE_ID>",                    // Ad's title, included if the comment was on an ad post
                "original_media_id": "<ORIGINAL_MEDIA_ID>",     // Original media's ID, included if the comment was on an ad post
                "media_product_type": "<MEDIA_PRODUCT_ID>"      // Product ID, included if the comment was on a specific product in an ad
              }
            }
          }
        ]
      }
    ]
  }
]
```

#### Business Login for Instagram

The following payload is returned for apps that have implemented Business Login for Instagram.

```json
[
  {
    "object": "instagram",
    "entry": [
      {
        "id": "<YOUR_APP_USERS_INSTAGRAM_ACCOUNT_ID>",
        "time": <TIME_META_SENT_THIS_NOTIFICATION>,
        // Comment or live comment payload
        "field": "comments",
        "value": {
          "id": "<COMMENT_ID>",
          "from": {
            "id": "<INSTAGRAM_SCOPED_USER_ID>",
            "username": "<USERNAME>"
          },
          "text": "<COMMENT_TEXT>",
          "media": {
            "id": "<MEDIA_ID>",
            "media_product_type": "<MEDIA_PRODUCT_TYPE>"
          }
        }
      }
    ]
  }
]
```

Your app can parse the API or webhook notification for comments that match your app user's criteria then use the comment's ID to reply to that comment.

## Reply to a comment

To reply to a comment, send a `POST` request to the `/&lt;IG_COMMENT_ID&gt;/replies` endpoint, where `&lt;IG_COMMENT_ID&gt;` is the ID for the comment which you want to reply, with the `message` parameter set to your message text.

### Sample Request

```bash
curl -X POST "https://<HOST_URL>/v24.0/<IG_COMMENT_ID>/replies"
   -H "Content-Type: application/json" 
   -d '{
         "message":"Thanks for sharing!"
       }'
```

On success, your app receives a JSON response with the comment ID for your comment.

```json
{
  "id": "17873440459141029"
}
```

If your app user has a lot of comments to reply to, you could [batch the replies into a single request](https://developers.facebook.com/docs/graph-api/making-multiple-requests/).

## Next steps

Learn how to send a message to the person who commented on your app user's media post using [Private Replies](https://developers.facebook.com/docs/instagram/messaging-api/private-replies).
```



## Page: https://developers.facebook.com/docs/instagram-platform/webhooks

# Setup Webhooks Subscriptions

This document shows you how to create an endpoint on your server to receive webhook notifications from Meta and subscribe to webhook fields for an Instagram professional account using your app. This allows you to receive real-time notifications whenever someone comments on the Media objects of the Instagram professional account using your app, @mentions your app users, when your app users' Stories expire, or when an Instagram user sends a message to that Instagram professional account.

## The steps

The steps required to receive webhook notifications are as follows:

1. **Step 1.** [Create an endpoint](#create-an-endpoint) on your server to receive webhooks from Meta
   - Verify requests from Meta – Occurs in the Meta App Dashboard
   - Accept and validate JSON payloads from Meta – Occurs on your server
2. **Step 2.** Subscribe your app to webhook fields – Occurs in the Meta App Dashboard
3. **Step 3.** Enable your app user's Instagram professional account to receive notifications via an API call to Meta
4. **Step 4.** Test the setup by sending a message to your Instagram professional account.

### Sample app on Github

We provide a [sample app on GitHub](https://github.com/fbsamples/graph-api-webhooks-samples) that deploys on [Heroku](https://www.heroku.com/) which you can set up and repurpose, or which you can use to quickly test your Webhooks configuration.

You need the following:

- A free Heroku account,
- Your app's App Secret found on Meta App Dashboard **App settings > Basic**
- A Verify token which is a string. In your Heroku app's settings, set up two config vars: `APP_SECRET` and `TOKEN`. Set `APP_SECRET` to your app's App Secret and `TOKEN` to your password. We will include this string in any verification requests when you configure the Webhooks product in the App Dashboard (the app will validate the request on its own).
- View your Heroku app in a web browser. You should see an empty array (`[]`). This page will display newly received update notification data, so reload it throughout testing.
- Your app's Callback URL will be your Heroku app's URL with `/facebook` added to the end. You will need this Callback URL during product configuration.
- Copy the `TOKEN` value you set above; you'll also need this during product configuration.

#### What's in the Heroku sample app?

The app uses Node.js and these packages:

- `body-parser` (for parsing JSON)
- `express` (for routes)
- `express-x-hub` (for SHA1 support)

## Verifying the Sample App

You can easily verify that your sample app can receive Webhook events.

1. Under the **Webhooks** product in your App Dashboard, click the **Test** button for any of the Webhook fields.
2. A pop-up dialog will appear showing a sample of what will be sent. Click **Send to My Server**.
3. You should now see the Webhook information at the Heroku app's URL, or use `curl https://<your-subdomain>.herokuapp.com` in a terminal window.

## Requirements

You will need:

- Your app must be set to **Live** in the App Dashboard for Meta to send webhook notifications

| Component | Business Login for Instagram | Facebook Login for Business | Instagram Messaging via Messenger Platform |
|-----------|------------------------------|----------------------------|-------------------------------------------|
| **Access level** | Advanced Access | Advanced Access for `comments` and `live_comments` | Advanced Access |
| **Access tokens** | Instagram User access token | Facebook User or Page access token | Facebook User or Page access token |
| **Business Verification** | Required | Required | Required |
| **Base URL** | `graph.instagram.com` | `graph.facebook.com` | `graph.facebook.com` |
| **Endpoints** | [`/<INSTAGRAM_ACCOUNT_ID>`](https://developers.facebook.com/docs/instagram-api/reference/ig-user) or `/me` – Represents your app user's Instagram professional account | [`/<PAGE_ID>`](https://developers.facebook.com/docs/instagram-api/reference/ig-user) or `/me` – Represents the Facebook Page linked to your app user's Instagram professional account | [`/<PAGE_ID>`](https://developers.facebook.com/docs/instagram-api/reference/ig-user) or `/me` – Represents the Facebook Page linked to your app user's Instagram professional account |
| **IDs** | The ID of your app user's Instagram professional account | The ID of the Facebook Page linked to your app user's Instagram professional account | The ID of the Facebook Page linked to your app user's Instagram professional account |
| **Basic Permission** | `instagram_business_basic` | `instagram_basic` | `instagram_basic` |
| **Field Specific Permissions** | Refer the [Instagram fields table](#fields) | Refer the [Instagram fields table](#fields) | Refer the [Instagram fields table](#fields) |

## Limitations

- Apps must be set to **Live** in the App Dashboard to receive webhook notifications.
- Advanced Access is required to receive `comments` and `live_comments` webhook notifications.
- The Instagram professional account that owns the media objects [must be public to receive notifications for comments or @mentions.](https://www.facebook.com/help/instagram/448523408565555)
- Notifications for Comments on [Live media](https://developers.facebook.com/docs/instagram-api/reference/ig-media) are only sent during the live broadcast.
- Account level webhooks customization is not supported. If your app user is subscribed to any Instagram webhook field, your app receives notifications for all fields the app is subscribed to.
- Album IDs are not included in webhook notifications. Use the Comment ID received in the notification to [get the album ID.](#)
- The ad ID will not be returned for media used in dynamic ads.
- Notifications for `story_insights` events will only show metrics for the first 24 hours, before the story expires, even if the story is a highlight.

## Create an endpoint

This step must be completed before you can subscribe to any webhook fields in the App Dashboard.

Your endpoint must be able to process two types of HTTPS requests: [Verification Requests](#verification-requests) and [Event Notifications](#event-notifications). Since both requests use HTTPS, your server must have a valid TLS or SSL certificate correctly configured and installed. Self-signed certificates are not supported.

The sections below explain what will be in each type of request and how to respond to them. Alternatively, you can use our [sample app](https://developers.facebook.com/docs/graph-api/webhooks/sample-apps) which is already configured to process these requests.

### Verification Requests

Anytime you configure the Webhooks product in your App Dashboard, we'll send a `GET` request to your endpoint URL. Verification requests include the following query string parameters, appended to the end of your endpoint URL. They will look something like this:

#### Sample Verification Request

```
GET https://www.your-clever-domain-name.com/webhooks?
  hub.mode=subscribe&
  hub.challenge=1158201444&
  hub.verify_token=meatyhamhock
```

| Parameter | Sample Value | Description |
|-----------|--------------|-------------|
| `hub.mode` | `subscribe` | This value will always be set to `subscribe`. |
| `hub.challenge` | `1158201444` | An `int` you must pass back to us. |
| `hub.verify_token` | `meatyhamhock` | A string that we grab from the **Verify Token** field in your app's App Dashboard. You will set this string when you complete the [Webhooks configuration settings](#). |

**Note:** [PHP converts periods (.) to underscores (_) in parameter names](http://www.php.net/manual/en/language.variables.external.php).

#### Validating Verification Requests

Whenever your endpoint receives a verification request, it must:

- Verify that the `hub.verify_token` value matches the string you set in the **Verify Token** field when you [configure the Webhooks product](#) in your App Dashboard (you haven't set up this token string yet).
- Respond with the `hub.challenge` value.

If you are in your App Dashboard and configuring your Webhooks product (and thus, triggering a Verification Request), the dashboard will indicate if your endpoint validated the request correctly. If you are using the Graph API's [/app/subscriptions endpoint](https://developers.facebook.com/docs/graph-api/reference/app/subscriptions) to configure the Webhooks product, the API will indicate success or failure with a response.

### Event Notifications

When you configure your Webhooks product, you will subscribe to specific `fields` on an `object` type (e.g., the `photos` field on the `user` object). Whenever there's a change to one of these fields, we will send your endpoint a `POST` request with a JSON payload describing the change.

For example, if you subscribed to the `user` object's `photos` field and one of your app's Users posted a Photo, we would send you a `POST` request that would look something like this:

```
POST / HTTPS/1.1
Host: your-clever-domain-name.com/webhooks
Content-Type: application/json
X-Hub-Signature-256: sha256={super-long-SHA256-signature}
Content-Length: 311

{
  "entry": [
    {
      "time": 1520383571,
      "changes": [
        {
          "field": "photos",
          "value":
            {
              "verb": "update",
              "object_id": "10211885744794461"
            }
        }
      ],
      "id": "10210299214172187",
      "uid": "10210299214172187"
    }
  ],
  "object": "user"
}
```

#### Payload Contents

Payloads will contain an object describing the change. When you [configure the webhooks product](#), you can indicate if payloads should only contain the names of changed fields, or if payloads should include the new values as well.

We format all payloads with JSON, so you can parse the payload using common JSON parsing methods or packages.

You will not be able to query historical webhook event notification data, so be sure to capture and store any webhook payload content that you want to keep.

Most payloads will contain the following common properties, but the contents and structure of each payload varies depending on the object fields you are subscribed to. Refer to each object's [reference](https://developers.facebook.com/docs/graph-api/webhooks/reference) document to see which fields will be included.

| Property | Description | Type |
|----------|-------------|------|
| `object` | The object's type (e.g., `user`, `page`, etc.) | `string` |
| `entry` | An array containing an object describing the changes. Multiple changes from different objects that are of the same type may be batched together. | `array` |
| `id` | The object's ID | `string` |
| `changed_fields` | An array of strings indicating the names of the fields that have been changed. Only included if you *disable* the **Include Values** setting when configuring the Webhooks product in your app's App Dashboard. | `array` |
| `changes` | An array containing an object describing the changed fields and their new values. Only included if you *enable* the **Include Values** setting when configuring the Webhooks product in your app's App Dashboard. | `array` |
| `time` | A UNIX timestamp indicating when the Event Notification was sent (not when the change that triggered the notification occurred). | `int` |

#### Validating Payloads

We sign all Event Notification payloads with a **SHA256** signature and include the signature in the request's `X-Hub-Signature-256` header, preceded with `sha256=`. You don't have to validate the payload, but you should.

To validate the payload:

1. Generate a **SHA256** signature using the payload and your app's **App Secret**.
2. Compare your signature to the signature in the `X-Hub-Signature-256` header (everything after `sha256=`). If the signatures match, the payload is genuine.

#### Responding to Event Notifications

Your endpoint should respond to all Event Notifications with `200 OK HTTPS`.

#### Frequency

Event Notifications are aggregated and sent in a batch with a **maximum** of 1000 updates. However batching cannot be guaranteed so be sure to adjust your servers to handle each Webhook individually.

If any update sent to your server fails, we will retry immediately, then try a few more times with decreasing frequency over the next 36 hours. Your server should handle deduplication in these cases. Unacknowledged responses will be dropped after 36 hours.

Note: The frequency with which Messenger event notifications are sent is different. Please refer to the [Messenger Platform Webhooks documentation](https://developers.facebook.com/docs/messenger-platform/webhook/) for more information.

## Enable Subscriptions

Your app must enable subscriptions by sending a `POST` request to the `/me/subscribed_apps` endpoint with the `subscribed_fields` parameter set to a comma-separated list of webhooks fields.

### Request Syntax

*Formatted for readability.*

```
POST /me/subscribed_apps?subscribed_fields=<LIST_OF_WEBHOOK_FIELDS>&access_token=<ACCESS_TOKEN>
```

### Request Parameters

| Value Placeholder | Value Description |
|-------------------|-------------------|
| `/me` | Represents your app user's Instagram professional account ID or the Facebook Page ID that is linked to your app user's Instagram professional account |
| `<ACCESS_TOKEN>` | App user's Instagram User access token or Facebook Page access token. |
| `<LIST_OF_WEBHOOK_FIELDS>` | A comma-separated list of webhook fields that your app is subscribed to. |

### Example Request

*Formatted for readability.*

```
curl -i -X POST \
  "https://graph.instagram.com/v24.0/1755847768034402/subscribed_apps?subscribed_fields=comments,messages&access_token=EAAFB..."
```

On success, your app receives a JSON response with `success` set to `true`.

```
{
  "success": true
}
```

## Subscribe to webhook fields

You can subscribe to the following fields to receive notifications for events that take place on Instagram.

| Instagram Webhook field | Instagram API setup with Instagram Login permissions | Instagram API setup with Facebook Login permissions | Instagram Messaging API (Messenger Platform) permissions |
|-------------------------|-----------------------------------------------------|----------------------------------------------------|--------------------------------------------------------|
| `comments`              | - `instagram_business_basic` <br> - `instagram_business_manage_comments` | - `instagram_basic` <br> - `instagram_manage_comments` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` | x |
| `live_comments`         | - `instagram_business_basic` <br> - `instagram_business_manage_comments` | - `instagram_basic` <br> - `instagram_manage_comments` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` | x |
| `mentions`              | Included in the `comments` webhook notification | - `instagram_basic` <br> - `instagram_manage_comments` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` | x |
| `message_echoes`       | - `instagram_business_basic` <br> - `instagram_business_manage_comments` | x | Included in the `messages` webhook notification |
| `message_reactions`     | - `instagram_business_basic` <br> - `instagram_business_manage_messages` | x | - `instagram_basic` <br> - `instagram_manage_messages` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` |
| `messages`              | - `instagram_business_basic` <br> - `instagram_business_manage_messages` | x | - `instagram_basic` <br> - `instagram_manage_messages` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` |
| `messaging_handover`    | - `instagram_business_basic` <br> - `instagram_business_manage_messages` | x | - `instagram_basic` <br> - `instagram_manage_messages` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` |
| `messaging_optins`      | - `instagram_business_basic` <br> - `instagram_business_manage_messages` | x | x |
| `messaging_policy_enforcement` | x | x | - `instagram_basic` <br> - `instagram_manage_messages` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` |
| `messaging_postbacks`   | - `instagram_business_basic` <br> - `instagram_business_manage_messages` | x | - `instagram_basic` <br> - `instagram_manage_messages` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` |
| `messaging_referral`    | - `instagram_business_basic` <br> - `instagram_business_manage_messages` | x | - `instagram_basic` <br> - `instagram_manage_messages` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` |
| `messaging_seen`        | - `instagram_business_basic` <br> - `instagram_business_manage_messages` | x | - `instagram_basic` <br> - `instagram_manage_messages` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` |
| `response_feedback`     | x | x | - `instagram_basic` <br> - `instagram_manage_messages` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` |
| `standby`               | - `instagram_business_basic` <br> - `instagram_business_manage_messages` | x | - `instagram_basic` <br> - `instagram_manage_messages` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` |
| `story_insights`        | x | - `instagram_basic` <br> - `instagram_manage_insights` <br> - `pages_manage_metadata` <br> - `pages_read_engagement` <br> - `pages_show_list` | x |

## mTLS for Webhooks

Mutual TLS (mTLS) is a method for mutual authentication.

mTLS ensures that the parties at each end of a network connection are who they claim to be by verifying that they both have the correct private key. The information within their respective TLS certificates provides additional verification.

### How to configure mTLS

Once you enable mTLS on your subscription to WhatsApp Business Account, Meta will present a client certificate together with its signing intermediate certificate. Both certificates are used to create a TLS handshake of Webhook requests to your server. Your server then can verify the sender’s identity of these requests by the trust chain and the common name (CN).

The client certificate is signed by an intermediate CA certificate, DigiCert SHA2 High Assurance Server CA, and then by a root CA certificate, DigiCert High Assurance EV Root CA. Note that the intermediate certificate also signs the certificate for graph.facebook.com:

### Client Certificate Verification

After setting up HTTPS for receiving Webhook requests, complete the following steps to verify the client certificate and its common name `client.webhooks.fbclientcerts.com`:

1. Install the root certificate
2. Verify the client certificate against the root certificate
3. Verify the common name (`client.webhooks.fbclientcerts.com`) of the client certificate

Note: Servers receiving Webhooks must be using HTTPS; and we are always verifying the certificate from your HTTPS server for security.

#### Example

Depending on your server’s setup, the above steps vary in details. We illustrate by two examples, one for Nginx and one for AWS Application Load Balancer (ALB).

##### Nginx

1. Download the root certificate (DigiCert High Assurance EV Root CA) from DigiCert to your server, e.g. `/etc/ssl/certs/DigiCert_High_Assurance_EV_Root_CA.pem`
2. Turn on mTLS by Nginx directives ([example screenshot](https://pxl.cl/5tpBv))

```
ssl_verify_client       on;
ssl_client_certificate  /etc/ssl/certs/DigiCert_High_Assurance_EV_Root_CA.pem;
ssl_verify_depth        3;
```

3. Verify the CN from Nginx embedded variable `$ssl_client_s_dn` equals `"client.webhooks.fbclientcerts.com"` ([example screenshot](https://pxl.cl/5tqMx))

```
if ($ssl_client_s_dn ~ "CN=client.webhooks.fbclientcerts.com") {
    return 200 "$ssl_client_s_dn";
}
```

##### AWS Application Load Balancer (ALB)

1. Download the intermediate certificate (DigiCert SHA2 High Assurance Server CA) from [DigiCert](https://www.digicert.com/kb/digicert-root-certificates.htm) to a S3 bucket. The root certificate is [not accepted by AWS](https://aws.amazon.com/security/security-bulletins/aws-to-switch-to-sha256-hash-algorithm-for-ssl-certificates/) because it is signed using algorithm SHA1withRSA; while the intermediate certificate is signed using SHA256withRSA thereby accepted.
2. Configure the HTTPS listener on the ALB to enable mTLS with the trust store containing the certificate in the S3 bucket ([example screenshot](https://pxl.cl/5tqzs)).
3. In your application code, extract the CN from the HTTP header [“X-Amzn-Mtls-Clientcert-Subject”](https://docs.aws.amazon.com/elasticloadbalancing/latest/application/mutual-authentication.html), and verify it equals “client.webhooks.fbclientcerts.com”.

## Test setup

1. Send your Instagram professional account a test message (the public account added in the Meta App Dashboard for testing). This should trigger a `messages` webhook event. The notification should contain the `recipient.id`, set to your Instagram professional account's Instagram-scoped ID, and the `is_echo` and `is_self` properties, both set to `true`, within the `messaging` array.
2. Send a response to your Instagram-scoped ID using the API.

## Next steps

Learn how to [send and receive messages from Instagram professional accounts](https://developers.facebook.com/docs/instagram/messaging-api).

## See also

- [Webhooks from Meta | Developer Documentation](https://developers.facebook.com/docs/graph-api/webhooks)



## Page: https://developers.facebook.com/docs/

# Meta Developer Documentation

*Learn the basics of how to send and receive data from the Meta social graph* and how to implement the APIs, Platforms, Products, and SDKs to fit your application needs.

## Meta App Development

Register as a developer, configure your app's settings in the App Dashboard, and build, test, and release your app.  
[Docs](/docs/development)

## Graph API

The primary way for apps to read and write to the Meta social graph.  
[Docs](/docs/graph-api)

## Responsible Platform Initiatives

Verify that your app uses our products and APIs in an approved manner.  
[Docs](/docs/resp-plat-initiatives)

## App Integrations
### [App Links](https://developers.facebook.com/docs/applinks/)
### [Graph API](https://developers.facebook.com/docs/graph-api/)
### [Meta App Events](https://developers.facebook.com/docs/app-events/)
### [Meta Pixel](https://developers.facebook.com/docs/meta-pixel/)
### [Webhooks](https://developers.facebook.com/docs/graph-api/webhooks/)

## Authentication
### [Facebook Login](https://developers.facebook.com/docs/facebook-login/)
### [Limited Facebook Login](https://developers.facebook.com/docs/facebook-login/limited-login/)
### [Login Connect with Messenger](https://developers.facebook.com/docs/facebook-login/login-connect/)

## Developer Guides
### [Meta App Development](https://developers.facebook.com/docs/development/)
### [Developer Policies](https://developers.facebook.com/devpolicy)
### [Meta Platform Terms](https://developers.facebook.com/terms)
### [Privacy & Consent](https://developers.facebook.com/docs/privacy)

## SDKs
### [Facebook SDK for Android](https://developers.facebook.com/docs/android/)
### [Facebook SDK for iOS](https://developers.facebook.com/docs/ios/)
### [Facebook SDK for JavaScript](https://developers.facebook.com/docs/javascript/)
### [Facebook SDK for PHP](https://developers.facebook.com/docs/php-graph-sdk/)
### [Unity SDK](https://developers.facebook.com/docs/unity/)
### [Meta Business SDK](https://developers.facebook.com/docs/business-sdk/)

## Gaming
### [Facebook Games](https://developers.facebook.com/docs/games/)
### [Game Payments](https://developers.facebook.com/docs/games_payments/)

## Social Integrations
### [Facebook Pages API](https://developers.facebook.com/docs/pages-api/)
### [Instagram Platform](https://developers.facebook.com/docs/instagram-platform/)
### [Threads API](https://developers.facebook.com/docs/threads/)
### [Sharing](https://developers.facebook.com/docs/sharing/)
### [Social Plugins](https://developers.facebook.com/docs/plugins/)

## Videos
### [Live Video API](https://developers.facebook.com/docs/live-video-api/)
### [Stories](https://developers.facebook.com/docs/page-stories-api/)
### [Videos](https://developers.facebook.com/docs/videos/)

## Business Messaging
### [WhatsApp Business Platform](https://developers.facebook.com/docs/whatsapp/)
### [Messenger Platform](https://developers.facebook.com/docs/messenger-platform/)

## Marketing and Commerce
### [Facebook Creator Discovery API](https://developers.facebook.com/docs/fb-creator-discovery/)
### [Facebook App Ads](https://developers.facebook.com/docs/app-ads/)
### [Automotive Ads](https://developers.facebook.com/docs/marketing-api/auto-ads/)
### [Catalog](https://developers.facebook.com/docs/marketing-api/catalog/)
### [Commerce Platform](https://developers.facebook.com/docs/commerce-platform/)
### [Conversions API](https://developers.facebook.com/docs/marketing-api/conversions-api/)
### [Conversions API Gateway](https://developers.facebook.com/docs/marketing-api/gateway-products/conversions-api-gateway/)
### [Signals Gateway](https://developers.facebook.com/docs/marketing-api/gateway-products/signals-gateway/)
### [Cross-Channel Conversion Optimization](https://developers.facebook.com/docs/ccco/)
### [Meta Audience Network](https://developers.facebook.com/docs/audience-network/)
### [Meta Business SDK](https://developers.facebook.com/docs/business-sdk/)
### [Meta Pay Integration](https://developers.facebook.com/docs/meta-pay/)
### [Marketing API](https://developers.facebook.com/docs/marketing-api/)

## Work and Education
### [Meta Admin Center](https://developers.facebook.com/docs/admin-center/)
### [Workplace](https://developers.facebook.com/docs/workplace/)

## Artificial Intelligence
### [Wit.ai](https://www.wit.ai/)

## Rights Manager

## Data Portability
### [Data Portability](https://developers.facebook.com/docs/data-portability/)



## Page: https://developers.facebook.com/docs/instagram-platform/content-publishing

```markdown
# Content Publishing

This guide shows you how to publish single images, videos, reels (single media posts), or posts containing multiple images and videos (carousel posts) on Instagram professional accounts using the Instagram Platform.

On March 24, 2025, we introduced the new `alt_text` field for image posts on the `/<INSTAGRAM_PROFESSIONAL_ACCOUNT_ID>/media` endpoint. Reels and stories are not supported.

## Requirements

This guide assumes you have read the [Instagram Platform Overview](https://developers.facebook.com/docs/instagram-platform/overview) and implemented the needed components for using this API, such as a Meta login flow and a webhooks server to receive notifications.

### Media on a public server

We cURL media used in publishing attempts, so the media must be hosted on a publicly accessible server at the time of the attempt.

### Page Publishing Authorization

An Instagram professional account connected to a [Page](https://www.facebook.com/business/m/one-sheeters/page-publishing-authorization) that requires Page Publishing Authorization (PPA) cannot be published to until PPA has been completed.

It's possible that an app user may be able to perform [Tasks](https://developers.facebook.com/docs/instagram-api/overview#tasks) on a Page that initially does not require PPA but later requires it. In this scenario, the app user would not be able to publish content to their Instagram professional account until completing PPA. Since there's no way for you to determine if an app user's Page requires PPA, we recommend that you advise app users to preemptively complete PPA.

You will need the following:

| | Instagram API with Instagram Login | Instagram API with Facebook Login |
|---|---|---|
| **Access Levels** | - Advanced Access<br>- Standard Access | - Advanced Access<br>- Standard Access |
| **Access Tokens** | - Instagram User access token | - Facebook Page access token |
| **Host URL** | `graph.instagram.com` | `graph.facebook.com`<br>`rupload.facebook.com` (For resumable video uploads) |
| **Login Type** | Business Login for Instagram | Facebook Login for Business |
| [**Permissions**](https://developers.facebook.com/docs/permissions/reference#i) | - `instagram_business_basic`<br>- `instagram_business_content_publish` | - `instagram_basic`<br>- `instagram_content_publish`<br>- `pages_read_engagement`<br>If the app user was granted a role on the [Page](https://developers.facebook.com/docs/instagram-api/overview#pages) connected to your app user's Instagram professional account via the Business Manager, your app will also need:<br>- `ads_management`<br>- `ads_read` |
| **Webhooks** | | |

### Endpoints

- [`/<IG_ID>/media`](https://developers.facebook.com/docs/instagram-api/reference/ig-user/media#creating) — Create media container and upload the media
  - `upload_type=resumable` — Create a resumable upload session to upload large videos from an area with frequent network interruptions or other transmission failures. Only for apps that have implemented Facebook Login for Business.
- [`/<IG_ID>/media_publish`](https://developers.facebook.com/docs/instagram-api/reference/ig-user/media_publish#creating) — publish uploaded media using their media containers.
- [`/<IG_CONTAINER_ID>?fields=status_code`](https://developers.facebook.com/docs/instagram-api/reference/ig-container#reading) — check media container publishing eligibility and status.
- [`/<IG_ID>/content_publishing_limit`](https://developers.facebook.com/docs/instagram-api/reference/ig-user/content_publishing_limit) — check app user's current publishing rate limit usage.
- `POST https://rupload.facebook.com/ig-api-upload/<IG_MEDIA_CONTAINER_ID>` — Upload the video to Meta servers
- `GET /<IG_MEDIA_CONTAINER_ID>?fields=status_code` — Check publishing eligibility and status of the video

### HTML URL encoding troubleshooting

- Some of the parameters are supported in list/dict format.
- Some characters need to be encoded into a format that can be transmitted over the Internet. For example: `user_tags=[{username:’ig_user_name’}]` is encoded to `user_tags=%5B%7Busername:ig_user_name%7D%5D` where `[` is encoded to `%5B` and `{` is encoded to `%7B`. For more conversions, please refer to the HTML URL Encoding standard.

### Limitations

- JPEG is the only image format supported. Extended JPEG formats such as MPO and JPS are not supported.
- Shopping tags are not supported.
- Branded content tags are not supported.
- Filters are not supported.

For additional limitations, see each endpoint's reference.

### Rate Limit

Instagram accounts are limited to 100 API-published posts within a 24-hour moving period. Carousels count as a single post. This limit is enforced on the `POST /<IG_ID>/media_publish` endpoint when attempting to publish a media container. We recommend that your app also enforce the publishing rate limit, especially if your app allows app users to schedule posts to be published in the future.

To check an Instagram professional account's current rate limit usage, query the `GET /<IG_ID>/content_publishing_limit` endpoint.

## Create a container

In order to publish a media object, it must have a container. To create the media container and upload a media file, send a `POST` request to the `/<IG_ID>/media` endpoint with the following parameters:

- `access_token` – Set to your app user's access token
- `image_url` or `video_url` – Set to the path of the image or video. We will cURL your image using the passed in URL so it must be on a public server.
- `media_type` — If the container will be for a video, set to `VIDEO`, `REELS`, or `STORIES`.
- `is_carousel_item` – If the media will be part of a carousel, set to `true`
- `upload_type` – Set to `resumable`, if creating a resumable upload session for a large video file

Visit the [Instagram User Media Endpoint Reference](https://developers.facebook.com/docs/instagram-platform/instagram-graph-api/reference/ig-user/media#query-string-parameters) for additional optional parameters.

### Example Request

*Formatted for readability.*

```bash
curl -X POST "https://<HOST_URL>/<LATEST_API_VERSION>/<IG_ID>/media"
     -H "Content-Type: application/json" 
     -H "Authorization: Bearer <ACCESS_TOKEN>" 
     -d '{
           "image_url":"https://www.example.com/images/bronz-fonz.jpg"
         }'
```

On success, your app receives a JSON response with the Instagram Container ID.

```json
{
  "id": "<IG_CONTAINER_ID>"
}
```

## Create a carousel container

To publish up to 10 images, videos, or a combination of the two, in a single post, a carousel post, you must create a carousel container. This carousel container will contain a list of all media containers.

To create the carousel container, send a `POST` request to the `/<IG_ID>/media` endpoint with the following parameters:

- `media_type` — Set to `CAROUSEL`. Indicates that the container is for a carousel.
- `children` — A comma-separated list of up to 10 container IDs of each image and video that should appear in the published carousel.

### Limitations

- Carousels are limited to 10 images, videos, or a mix of the two.
- Carousel images are all cropped based on the first image in the carousel, with the default being a 1:1 aspect ratio.
- Accounts are limited to 50 published posts within a 24-hour period. Publishing a carousel counts as a single post.

### Example Request

*Formatted for readability.*

```bash
curl -X POST "https://graph.instagram.com/v24.0/90010177253934/media"
     -H "Content-Type: application/json" 
     -d '{
           "caption":"Fruit%20candies",
           "media_type":"CAROUSEL",
           "children":"<IG_CONTAINER_ID_1>,<IG_CONTAINER_ID_2>,<IG_CONTAINER_ID_3>"
         }'
```

On success, your app receives a JSON response with the Instagram Carousel Container ID.

```json
{
  "id": "<IG_CAROUSEL_CONTAINER_ID>"
}
```

## Resumable Upload Session

If you created a container for a resumable video upload in Step 1, you need to upload the video before it can be published.

Most API calls use the `graph.facebook.com` host; however, calls to upload videos for Reels use `rupload.facebook.com`.

The following file sources are supported for uploaded video files:

- A file located on your computer
- A file hosted on a public-facing server, such as a CDN

To start the upload session, send a `POST` request to the `/<IG_MEDIA_CONTAINER_ID>` endpoint on the `rupload.facebook.com` host with the following parameters:

- `access_token`

### Sample request upload a local video file

With the `ig-container-id` returned from a resumable upload session call, upload the video.

- Be sure the host is `rupload.facebook.com`.
- All `media_type` shares the same flow to upload the video.
- `ig-container-id` is the ID returned from resumable upload session calls.
- `access-token` is the same one used in previous steps.
- `offset` is set to the first byte being uploaded, generally `0`.
- `file_size` is set to the size of your file in bytes.
- `Your_file_local_path` is set to the file path of your local file, for example, if uploading a file from the **Downloads** folder on macOS, the path is **@Downloads/example.mov**.

```bash
curl -X POST "https://rupload.facebook.com/ig-api-upload/<API_VERSION>/<IG_MEDIA_CONTAINER_ID>`"
     -H "Authorization: OAuth <ACCESS_TOKEN>"
     -H "offset: 0"
     -H "file_size: Your_file_size_in_bytes"
     --data-binary "@my_video_file.mp4"
```

### Sample request upload a public hosted video

```bash
curl -X POST "https://rupload.facebook.com/ig-api-upload/<API_VERSION>/<IG_MEDIA_CONTAINER_ID>`"
     -H "Authorization: OAuth <ACCESS_TOKEN>"
     -H "file_url: https://example_hosted_video.com"
```

### Sample Response

```json
// Success Response Message
{
  "success": true,
  "message": "Upload successful."
}

// Failure Response Message
{
  "debug_info": {
    "retriable": false,
    "type": "ProcessingFailedError",
    "message": "{\"success\":false,\"error\":{\"message\":\"unauthorized user request\"}}"
  }
}
```

## Publish the container

To publish the media,

Send a `POST` request to the `/<IG_ID>/media_publish` endpoint with the following parameters:

- `creation_id` set to the container ID, either for a single media container or a carousel container

### Example Request

*Formatted for readability.*

```bash
curl -X POST "https://<HOST_URL>/<LATEST_API_VERSION>/<IG_ID>/media_publish"
     -H "Content-Type: application/json" 
     -H "Authorization: Bearer <ACCESS_TOKEN>"     
     -d '{
           "creation_id":"<IG_CONTAINER_ID>"
         }'
```

On success, your app receives a JSON response with the Instagram Media ID.

```json
{
  "id": "<IG_MEDIA_ID>"
}
```

## Reels posts

Reels are short-form videos that appear in the **Reels** tab of the Instagram app. To publish a reel, create a container for the video and include the `media_type=REELS` parameter along with the path to the video using the `video_url` parameter.

If you publish a reel and then request its `media_type` field, the value returned is `VIDEO`. To determine if a published video has been designated as a reel, request its `media_product_type` field instead.

You can use the [code sample on GitHub (insta_reels_publishing_api_sample)](https://l.facebook.com/l.php?u=https%3A%2F%2Fgithub.com%2Ffbsamples%2Freels_publishing_apis%2Ftree%2Fmain%2Finsta_reels_publishing_api_sample&h=AT39r5CJVtpqP44Qn9Tho-HjEHBADLLqrquxLzCYDGp2B3APW4HSuxNacnah2tPXR7hbu88EJ44SomUYiuFsXvDfTcwTEWk-aqVp7d64TjM3vxR5D_FRv6zLgj0X6U7AYjYvojfl9f_G2T71A_tBR1kzJ9c) to learn how to publish Reels to Instagram.

## Story posts

To publish a reel, create a container for the media object and include the `media_type` parameter set to `STORIES`.

If you publish a story and then request its `media_type` field, the value will be returned as `IMAGE/VIDEO`. To determine if a published image/video is a story, request its `media_product_type` field instead.

## Troubleshooting

If you are able to create a container for a video but the `POST /<IG_ID>/media_publish` endpoint does not return the published media ID, you can get the container's publishing status by querying the `GET /<IG_CONTAINER_ID>?fields=status_code` endpoint. This endpoint will return one of the following:

- `EXPIRED` — The container was not published within 24 hours and has expired.
- `ERROR` — The container failed to complete the publishing process.
- `FINISHED` — The container and its media object are ready to be published.
- `IN_PROGRESS` — The container is still in the publishing process.
- `PUBLISHED` — The container's media object has been published.

We recommend querying a container's status once per minute, for no more than 5 minutes.

## Errors

See the [Error Codes](https://developers.facebook.com/docs/instagram-api/reference/error-codes) reference.

## Next Steps

Now that you have published to an Instagram professional account, learn how to [moderate comments on your media](https://developers.facebook.com/docs/instagram/platform/instagram-api/comment-moderation).
```



## Page: https://developers.facebook.com/docs/instagram-platform/private-replies

# Send a Private Reply to a Commenter

This document shows you how to programmatically send a private reply to a person who commented on your app user's Instagram professional post, reel, story, Live, or ad post.

## How It Works

1. An Instagram user comments on your app user's Instagram professional post, reel, story, Live, or ad post.
2. A webhook event is triggered and Meta sends your server a notification with information about the comment including:
   - Your app user's Instagram professional account ID
   - The commenter's Instagram-scoped ID and username
   - The comment's ID
   - The media's ID, if the commenter included media in their comment
   - The text of the comment, if applicable

3. Your app uses the comment's ID to send a private response directly to the Instagram user. This reply appears in the person's **Inbox**, if the person follows the Instagram professional account, or to the **Request** folder, if they do not.
4. Your app can send this private reply within 7 days of the creation time of the comment, excepting Instagram Live, where replies can only be sent during the live broadcast. The private reply message includes a link to the commented post.

![Example Image](https://scontent-syd2-1.xx.fbcdn.net/v/t39.2365-6/118520113_305452657552386_5531150750029687976_n.jpg?_nc_cat=100&ccb=1-7&_nc_sid=e280be&_nc_ohc=hxCO0O4G9GUQ7kNvwEemRFC&_nc_oc=AdkNrJ43BcXKflg96EZAc1YsTJ3h8G3ufV4C8ZjMmy2nOybS7rKDqcq7TeRGgT64hkQ&_nc_zt=14&_nc_ht=scontent-syd2-1.xx&_nc_gid=Enf5zDzaGN7q2T6Dt4lEZg&oh=00_Afj2df81wIDoAnNipzqjeINutbXB1ak6cQNvJbGTBKTyHA&oe=692F53CA)

## Requirements

This guide assumes you have read the [Instagram Platform Overview](https://developers.facebook.com/docs/instagram-platform/overview) and implemented the needed components for using this API, such as a Meta login flow and a webhooks server to receive notifications.

You need the following:

| Requirement                | Instagram API with Instagram Login | Instagram API with Facebook Login |
|----------------------------|------------------------------------|-----------------------------------|
| **Access Tokens**          | Instagram User access token        | [Facebook Page access token](https://developers.facebook.com/docs/facebook-login/access-tokens) |
| **Host URL**               | `graph.instagram.com`              | `graph.facebook.com`              |
| **Login Type**             | Business Login for Instagram       | Facebook Login for Business        |
| **Permissions**            | `instagram_business_basic`, `instagram_business_manage_comments` | `instagram_basic`, `instagram_manage_comments`, `pages_read_engagement`<br>If the app user was granted a role on the [Page](https://developers.facebook.com/docs/instagram-api/overview#pages) connected to your app user's Instagram professional account via the Business Manager, your app will also need:<br>`ads_management`, `ads_read` |
| **Webhooks**               | `comments`, `live_comments`        | `comments`, `live_comments`       |

### Limitations

- Only one message can be sent to the commenter.
- The message must be sent within 7 days of the comment being made on the post or reel.
- For Instagram Live, private replies can only be sent during the live broadcast. Once the broadcast ends, private replies cannot be sent.
- Follow-up messages can only be sent if the recipient responds, and must be sent within 24 hours of the response.

## Send a Private Reply

To send a private reply to a commenter on your app user's Instagram professional post, reel, or story, send a `POST` request to the `<APP_USERS_IG_ID>/messages` endpoint. The `recipient` parameter should contain the comment's ID and the `message` parameter should contain the text you wish to send.

### Sample request

*Formatted for readability.*

```bash
curl -i -X POST "https://<HOST_URL>/<API_VERSION>/<APP_USERS_IG_ID>/messages"
     -H "Content-Type: application/json" 
     -H "Authorization: Bearer <ACCESS_TOKEN>" 
     -d '{
             "recipient":{ 
                 "comment_id": "<COMMENT_ID>" 
             },
             "message": { 
                 "text": "<COMMENT_TEXT>" 
             }
         }'
```

On success, your app receives a JSON response with the recipient's Instagram-scoped ID and the ID for the message.

```json
{
  "recipient_id": "526...", // The Instagram-scoped ID 
  "message_id": "aWdfZ..."  // The ID for the private reply message
}
```



## Page: https://developers.facebook.com/docs/instagram-platform/oembed

# Embed an Instagram Post

You can query the Instagram oEmbed endpoint to get an Instagram post’s embed HTML and basic metadata in order to display the post in another website or app. Supports photo, video, Reel, and Feed posts.

Visit the [Instagram Help Center](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F620154495870484&amp;h=AT2z8a4YT537fBfMUy9EAgwXopBx1VgEJLneUesuncDqBAwxVHYtqApCYbPP5VYjxHRD3vrDGoQJPYh123CjhT9QmxSSmGk-Xbkk-rPaT7LkfgAjoQCKYKN2bIMdDnLapmkPsUwNy-cP3cYSFS2RJ_Q778k) to learn how to get the embed code from a public Instagram post or profile.

On April 8, 2025, we introduced a new oEmbed feature, **Meta oEmbed Read** to replace the existing oEmbed Read feature. The current [oEmbed Read feature](https://developers.facebook.com/docs/features-reference/oembed-read) will be deprecated on November 3, 2025.

- Apps created after April 8, 2025 that implement oEmbed will use the new Meta oEmbed Read feature.
- Existing apps that already use the current oEmbed Read feature will be automatically updated to the new Meta oEmbed Read feature by November 3, 2025.

The following fields are no longer returned and will be fully deprecated on November 3, 2025:

- `author_name`
- `author_url`
- `thumbnail_height`
- `thumbnail_url`
- `thumbnail_width`

Read the [oEmbed Updates blog post](https://developers.facebook.com/blog/post/2025/04/08/oembed-updates/) from Meta to learn more.

## Common uses

- Embed a post in a blog
- Embed a post in a website
- Render a post in a content management system
- Render a post in a messaging app

## Requirements

This guide assumes you are [a registered Meta developer](https://developers.facebook.com/docs/development/register) and have created a [Meta app](https://developers.facebook.com/docs/development).

You will need the following:

### Access levels

- [Advanced Access](https://developers.facebook.com/docs/instagram-platform/instagram-api-with-instagram-login/overview#access-levels) for the Meta oEmbed Read feature – Requires [Meta App Review](#app-review).

### Access tokens

- An app access token, if your app accesses the oEmbed endpoint from a backend server.
- A client access token, if your app accesses the oEmbed endpoint from a user agent, such as a mobile device or web browser.

### Base URL

All endpoints can be accessed via the `graph.facebook.com` host.

### Endpoints

- [GET /instagram_oembed](docs/graph-api/reference/instagram-oembed)

### Features

- [Meta oEmbed Read feature](https://developers.facebook.com/docs/features-reference/meta-oembed-read)

## Limitations

- The Instagram oEmbed endpoint is **only** meant to be used for embedding Instagram content in websites and apps. It is not to be used for any other purpose. **Using metadata and page, post, or video content (or their derivations) from the endpoint for any purpose other than providing a front-end view of the page, post, or video is strictly prohibited**. This prohibition encompasses consuming, manipulating, extracting, or persisting the metadata and content, including but not limited to deriving information about pages, posts, and videos from the metadata for analytics purposes.
- Posts on private, inactive, and age-restricted Instagram accounts are not supported.
- Accounts that have [disabled **Embeds**](https://l.facebook.com/l.php?u=https%3A%2F%2Fhelp.instagram.com%2F252460186989212%2F&amp;h=AT1cp4bJ_6lBLW2JI-Mgv5ssyB-eeUsAiPaa8APzfDjAFuxax2ln85amtvBTCzd9Od2u_jUApWtV30XUvqO4-dEdq5wdjzytbL628PCTP1z42I88OUn4mgyaiRZqNeyD1HyF4_DdK3PP9I5y3-ABmTvbh0yPzWQir5Qybp5l) are not supported.
- Stories are not supported.
- Shadow DOM is not supported.

## Rate limits

Rate limits are dependent on the type of access token your app includes in each request.

### App token rate limits

Apps that rely on app access tokens can make up to 5 million requests per 24 hours.

### Client token rate limits

Client token rate limits are significantly lower than app token rate limits. We do not reveal the actual limit as it will change depending on your app activity. However, you can safely assume that your app will not reach its limit unless it exhibits bot-like behavior, such as batching thousands of requests, or sending thousands of requests per agent or app user.

## Get an embed HTML

You can get an embed HTML programmatically or [in the Instagram app](https://developers.facebook.com/docs/instagram-platform/embed-button).

To programmatically get an Instagram post's embed HTML, send a request to:

```
GET /instagram_oembed?url=<URL_OF_THE_POST>&access_token=<ACCESS_TOKEN>
```

Replace `<URL_OF_THE_POST>` with the [URL](#url-formats) of the Instagram post that you want to query and `<ACCESS_TOKEN>` with your app or client access token or pass it to us in an `Authorization` HTTP header.

```
Authorization: Bearer <ACCESS_TOKEN>
```

If you are using a client access token, remember that you must combine it with your Meta App ID using a pipe symbol otherwise the request will fail.

Upon success, the API will respond with a JSON object containing the post's embed HTML and additional data. The embed HTML will be assigned to the `html` property.

Refer to the [Instagram oEmbed reference](https://developers.facebook.com/docs/graph-api/reference/instagram-oembed) for a list of [query string parameters](https://developers.facebook.com/docs/graph-api/reference/instagram-oembed#parameters) you can include to augment the request. You may also include the `fields` query string parameter to specify which [fields](https://developers.facebook.com/docs/graph-api/reference/instagram-oembed#fields) you want returned. If omitted, all default Fields will be included in the response.

## Sample requests

```
curl -X GET "https://graph.facebook.com/v24.0/instagram_oembed?url=https://www.instagram.com/p/fA9uwTtkSN/&access_token=IGQVJ..."

curl -i -X GET --header "Authorization: Bearer 96481..." "https://graph.facebook.com/v24.0/instagram_oembed?url=https%3A%2F%2Fwww.instagram.com%2Fp%2FfA9uwTtkSN"
```

## Sample Response

Some values truncated with an ellipsis (`...`) for readability.

```json
{
  "version": "1.0",
  "author_name": "diegoquinteiro",
  "provider_name": "Instagram",
  "provider_url": "https://www.instagram.com/",
  "type": "rich",
  "width": 658,
  "html": "<blockquote class=\"instagram-media\" data-instgrm-ca...",
  "thumbnail_width": 640,
  "thumbnail_height": 640
}
```

## URL Formats

The `url` query string parameter accepts the following URL formats:

```
https://www.instagram.com/p/{media-shortcode}/
https://www.instagram.com/tv/{media-shortcode}/
https://www.instagram.com/{username}/guide/{slug}/{guide_id}
```

## Embed JS

The embed HTML contains a reference to the Instagram [embed.js](https://l.facebook.com/l.php?u=https%3A%2F%2Fwww.instagram.com%2Fstatic%2Fbundles%2Fmetro%2FEmbedSDK.js%2F33cd2c5d5d59.js&amp;h=AT1xkMVlJiYYIkiuLREXohE7BWkc_NTMI2VjETCrqUO-f1QP03gnodNSfiM9eKaSQUy-UA9LARYX0Kzlaau5qv1dxXB9CHWoxi2YK6FeN0LLkQ7lqsX_3x09BgYza7FdBCKSo_ih3cfFRk0exZ-DekmAxso) JavaScript library. When the library loads, it scans the page for the post HTML and generates the fully rendered post. If you want to load the library separately, include the `omitscript=true` query string parameter in your request. To manually initialize the embed HTML, call the `instgrm.Embeds.process()` function after loading the library.

## Post Size

The embedded post is responsive and will adapt to the size of its container. This means that the height will vary depending on the container width and the length of the caption. You can set the maximum width by including the `maxwidth` query string parameter in your request.

## Get thumbnails

We recommend that you render all of the post’s embed HTML whenever possible. If you are unable to do this, you can get a post’s thumbnail image URL and render that instead. If you do this, however, you must provide clear attribution next to the image, including attribution to the original author and to Instagram, and a link to the Instagram post that you are querying.

To get a post’s thumbnail URL and attribution information, send a request to:

```
GET /instagram_oembed?url=<URL_OF_THE_POST>&maxwidth=<MAX_WIDTH>&fields=thumbnail_url,author_name,provider_name,provider_url&access_token=<ACCESS_TOKEN>
```

Replace `<URL_OF_THE_POST>` with the URL of the Instagram post you want to query, `<MAX_WIDTH>` with the maximum size of the thumbnail you want to render, and `<ACCESS_TOKEN>` with your app or client access token.

### Sample request

```
curl -i -X GET "https://graph.facebook.com/v24.0/instagram_oembed?url=https%3A%2F%2Fwww.instagram.com%2Fp%2FfA9uwTtkSN&maxwidth=320&fields=thumbnail_url%2Cauthor_name%2Cprovider_name%2Cprovider_url&access_token=96481..."
```

### Sample Response

Some values truncated with an ellipsis (`...`) for readability.

```json
{
  "thumbnail_url": "https://scontent.cdninstagram.com/v/t51.288...",
  "author_name": "diegoquinteiro",
  "provider_name": "Instagram",
  "provider_url": "https://www.instagram.com/"
}
```

## App Review submission

When you submit your app for review, in the **Tell Us Why You're Requesting Oembed Read > Please provide a URL where we can test Oembed Read** form field, use the Instagram oEmbed endpoint to get the embed HTML for any public post on our official [Facebook Page](https://www.facebook.com/facebook) or [Instagram Page](https://www.facebook.com/instagram). Then, add the returned embed HTML to where you will be displaying oEmbed content and enter that page's URL in the form field.

Once you have been approved for the oEmbed Read feature you may embed your own pages, posts, or videos using their respective URLs.